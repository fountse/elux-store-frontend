import{d as A,w as G,v as W,a as J,e as h,T as K,g as l,i as n,k as t,C as P,j as v,m as C,t as s,u as X,o as Y,b as z,F as k,l as w,h as a,n as x,y as Z,c as L,r as f,p as tt,q as et}from"./index-7FrspKv6.js";import{u as st}from"./product-CzxRkmeH.js";import{u as ot}from"./cart-sC7J0G5z.js";import{u as rt}from"./user-CfeTsN2J.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";const at={key:0,class:"fixed inset-0 z-[100] flex items-center justify-center p-4 sm:p-6"},lt={class:"relative bg-surface rounded-none shadow-2xl w-full max-w-md overflow-hidden transform transition-all border border-border"},nt={class:"px-6 py-4 border-b border-border flex justify-between items-center"},it={class:"text-lg font-bold text-text-primary"},ct={class:"p-6"},dt={key:0,class:"px-6 py-4 bg-surface-secondary border-t border-border flex justify-end gap-3"},ut=A({__name:"BaseModal",props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:""}},emits:["close"],setup(S,{emit:T}){const $=S,r=T,j=()=>{r("close")};return G(()=>$.isOpen,u=>{u?document.body.style.overflow="hidden":document.body.style.overflow=""}),W(()=>{document.body.style.overflow=""}),(u,B)=>(l(),J(K,{name:"modal"},{default:h(()=>[S.isOpen?(l(),n("div",at,[t("div",{class:"absolute inset-0 bg-black/40 backdrop-blur-lg transition-opacity",onClick:j}),t("div",lt,[t("div",nt,[t("h3",it,[P(u.$slots,"title",{},()=>[C(s(S.title),1)],!0)]),t("button",{onClick:j,class:"text-text-tertiary hover:text-text-primary transition-colors p-1 rounded-none hover:bg-surface-secondary"},[...B[0]||(B[0]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),t("div",ct,[P(u.$slots,"default",{},void 0,!0)]),u.$slots.footer?(l(),n("div",dt,[P(u.$slots,"footer",{},void 0,!0)])):v("",!0)])])):v("",!0)]),_:3}))}}),pt=N(ut,[["__scopeId","data-v-f7394fd6"]]),xt={key:0,class:"min-h-screen bg-page pb-24"},mt={class:"w-full lg:w-[60%] mx-auto px-6 sm:px-10 lg:px-0 -mt-6"},ft={class:"mb-4 text-sm text-text-secondary flex items-center gap-2"},vt={class:"text-text-primary font-medium"},_t={class:"grid grid-cols-1 lg:grid-cols-12 gap-10 xl:gap-16 items-start mb-24"},yt={class:"lg:col-span-7 space-y-16"},ht={class:"space-y-6"},gt={class:"aspect-[4/5] bg-surface overflow-hidden relative group"},bt=["src","alt"],kt={class:"flex gap-4 overflow-x-auto pb-2 no-scrollbar"},wt=["onClick"],Ct=["src"],St={class:"space-y-8"},$t={class:"text-2xl font-serif font-medium text-text-primary"},jt={class:"text-base text-text-secondary leading-relaxed"},Bt={key:0,class:"bg-surface-secondary/50 p-6"},Mt={class:"text-sm font-bold text-text-primary uppercase tracking-wider mb-2"},zt={class:"text-sm text-text-secondary italic"},Lt={class:"space-y-3"},Tt={class:"text-xl font-serif font-medium text-text-primary mb-6"},It={class:"space-y-4 text-sm"},Pt={class:"text-text-secondary font-medium"},Ot={class:"col-span-2 text-text-primary"},Vt={class:"w-full"},At=["src"],Nt={class:"lg:col-span-5 lg:sticky lg:top-24 h-fit bg-surface p-6"},Dt={class:"mb-8 border-b border-border/50 pb-8"},qt={class:"flex flex-col gap-4 mb-4"},Ht={class:"flex justify-between items-start"},Rt={class:"text-2xl md:text-3xl font-serif font-medium text-text-primary tracking-tight leading-tight"},Et={key:0,class:"inline-block self-start bg-text-primary text-page text-xs font-bold px-3 py-1 uppercase tracking-wider"},Ft={class:"flex items-center gap-4 mt-2"},Qt={class:"text-2xl font-medium text-text-primary"},Ut={key:0,class:"flex items-center gap-2 text-sm font-medium"},Gt={class:"space-y-6 mb-8"},Wt={class:"text-sm font-bold text-text-primary uppercase tracking-wider mb-3"},Jt={class:"font-normal text-text-secondary"},Kt={class:"flex flex-wrap gap-3"},Xt=["onClick"],Yt={key:0,class:"mb-8"},Zt={key:0,class:"overflow-hidden border border-gray-200 dark:border-white/10 bg-surface text-sm"},te={class:"w-full text-left"},ee={class:"bg-surface-secondary text-text-secondary font-medium"},se={class:"px-4 py-2"},oe={class:"px-4 py-2"},re={class:"px-4 py-2"},ae={class:"flex flex-col gap-6 mb-8"},le={class:"flex items-center gap-4"},ne={class:"text-sm font-medium text-text-primary uppercase tracking-wider"},ie={class:"flex items-center border border-gray-200 dark:border-white/10"},ce=["disabled"],de={class:"w-10 text-center text-text-primary font-medium"},ue={class:"flex gap-4"},pe=["disabled"],xe={class:"relative w-full h-full flex items-center justify-center"},me={class:"grid grid-cols-3 gap-2 py-4 border-t border-border/50"},fe={class:"flex flex-col items-center text-center gap-1"},ve={class:"text-[10px] font-medium text-text-secondary"},_e={class:"flex flex-col items-center text-center gap-1"},ye={class:"text-[10px] font-medium text-text-secondary"},he={class:"flex flex-col items-center text-center gap-1"},ge={class:"text-[10px] font-medium text-text-secondary"},be={class:"text-text-secondary text-base leading-relaxed"},ke={key:1,class:"min-h-screen flex items-center justify-center bg-page"},we={class:"text-center"},Ce={class:"text-2xl font-semibold text-text-primary mb-2"},Se=A({__name:"ProductDetail",setup(S){const T=Z(),$=et(),{t:r,n:j}=X(),u=st(),B=ot(),O=rt(),D="/elux-store-frontend/",o=L(()=>u.currentProduct),I=f(0),g=f({}),b=f(!1),_=f(!1),m=f(!1),y=f(1),M=f(!1),q=L(()=>{var d,e;return(e=(d=o.value)==null?void 0:d.images)!=null&&e.length?o.value.images[I.value]:""}),H=L(()=>o.value?O.isB2B?o.value.priceWholesale:o.value.priceRetail:0),R=L(()=>{var d;return(d=o.value)==null?void 0:d.variants.some(e=>e.id==="size")}),E=()=>{y.value++},F=()=>{y.value>1&&y.value--},V=async(d=!1)=>{if(!o.value)return;if(!O.isLoggedIn){b.value=!0;return}const e=Object.values(g.value).join(", ");d||(_.value=!0),await new Promise(p=>setTimeout(p,600)),await B.addItem(o.value,y.value,e,!1),d?$.push("/checkout"):(_.value=!1,m.value=!0,setTimeout(()=>{m.value=!1},2e3))},Q=()=>{b.value=!1,$.push("/login")};return Y(async()=>{var e;const d=T.params.id||"henry-knit-sweater";await u.fetchProductById(d),(e=o.value)!=null&&e.variants&&o.value.variants.forEach(p=>{g.value[p.id]=p.options[0]})}),(d,e)=>{const p=tt("router-link");return o.value?(l(),n("div",xt,[t("div",mt,[t("nav",ft,[z(p,{to:"/",class:"hover:text-text-primary transition-colors"},{default:h(()=>[C(s(a(r)("product.home")),1)]),_:1}),e[5]||(e[5]=t("span",null,"/",-1)),z(p,{to:"/products",class:"hover:text-text-primary transition-colors"},{default:h(()=>[C(s(a(r)("nav.products")),1)]),_:1}),e[6]||(e[6]=t("span",null,"/",-1)),t("span",vt,s(o.value.category),1)]),t("div",_t,[t("div",yt,[t("div",ht,[t("div",gt,[t("img",{src:q.value,alt:o.value.name,class:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"},null,8,bt)]),t("div",kt,[(l(!0),n(k,null,w(o.value.images,(i,c)=>(l(),n("button",{key:c,onClick:U=>I.value=c,class:x(["w-20 h-20 overflow-hidden flex-shrink-0 border-2 transition-all",I.value===c?"border-accent":"border-transparent opacity-70 hover:opacity-100"])},[t("img",{src:i,class:"w-full h-full object-cover"},null,8,Ct)],10,wt))),128))])]),t("div",St,[t("h2",$t,s(a(r)("product.about_item")),1),t("p",jt,s(o.value.description),1),o.value.stylingTips?(l(),n("div",Bt,[t("h3",Mt,s(a(r)("product.styling_advice")),1),t("p",zt,'"'+s(o.value.stylingTips)+'"',1)])):v("",!0),t("ul",Lt,[(l(!0),n(k,null,w(o.value.features,(i,c)=>(l(),n("li",{key:c,class:"flex items-start gap-3 text-text-primary text-sm"},[e[7]||(e[7]=t("svg",{class:"w-5 h-5 text-accent mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)),t("span",null,s(i),1)]))),128))])]),t("div",null,[t("h3",Tt,s(a(r)("product.specifications")),1),t("dl",It,[(l(!0),n(k,null,w(o.value.specs,(i,c)=>(l(),n("div",{key:c,class:"grid grid-cols-3 gap-4 pb-4 border-b border-gray-200 dark:border-white/5 last:border-0"},[t("dt",Pt,s(c),1),t("dd",Ot,s(i),1)]))),128))])]),t("div",Vt,[t("img",{src:`${a(D)}media/full_page.jpg`,class:"w-full h-auto",alt:"Product Details"},null,8,At)])]),t("div",Nt,[t("div",Dt,[t("div",qt,[t("div",Ht,[t("h1",Rt,s(o.value.name),1)]),o.value.isNew?(l(),n("div",Et,s(a(r)("product.new_arrival")),1)):v("",!0),t("div",Ft,[t("span",Qt,s(a(j)(H.value,"currency")),1),o.value.stockStatus?(l(),n("div",Ut,[t("span",{class:x(["w-2 h-2 rounded-full",{"bg-green-500":o.value.stockStatus==="in_stock","bg-yellow-500":o.value.stockStatus==="low_stock","bg-red-500":o.value.stockStatus==="out_of_stock"}])},null,2),t("span",{class:x({"text-green-600":o.value.stockStatus==="in_stock","text-yellow-600":o.value.stockStatus==="low_stock","text-red-600":o.value.stockStatus==="out_of_stock"})},s(a(r)(`product.stock.${o.value.stockStatus}`)),3)])):v("",!0)])])]),t("div",Gt,[(l(!0),n(k,null,w(o.value.variants,i=>(l(),n("div",{key:i.id},[t("h3",Wt,[C(s(i.name)+": ",1),t("span",Jt,s(g.value[i.id]),1)]),t("div",Kt,[(l(!0),n(k,null,w(i.options,c=>(l(),n("button",{key:c,onClick:U=>g.value[i.id]=c,class:x(["min-w-[3rem] px-4 py-2 text-sm font-medium transition-all duration-200 border",g.value[i.id]===c?"border-text-primary text-text-primary bg-transparent ring-1 ring-text-primary":"border-gray-200 dark:border-white/10 text-text-secondary hover:border-text-secondary/50 hover:text-text-primary bg-surface"])},s(c),11,Xt))),128))])]))),128))]),R.value?(l(),n("div",Yt,[t("button",{onClick:e[0]||(e[0]=i=>M.value=!M.value),class:"text-sm text-text-primary underline decoration-1 underline-offset-4 mb-4 hover:text-accent transition-colors"},s(M.value?a(r)("product.size_guide.hide"):a(r)("product.size_guide.view")),1),M.value?(l(),n("div",Zt,[t("table",te,[t("thead",ee,[t("tr",null,[t("th",se,s(a(r)("product.size_guide.size")),1),t("th",oe,s(a(r)("product.size_guide.bust")),1),t("th",re,s(a(r)("product.size_guide.waist")),1)])]),e[8]||(e[8]=t("tbody",{class:"divide-y divide-gray-200 dark:divide-white/5"},[t("tr",null,[t("td",{class:"px-4 py-2 font-medium"},"S"),t("td",{class:"px-4 py-2"},"82-86"),t("td",{class:"px-4 py-2"},"62-66")]),t("tr",null,[t("td",{class:"px-4 py-2 font-medium"},"M"),t("td",{class:"px-4 py-2"},"87-91"),t("td",{class:"px-4 py-2"},"67-71")]),t("tr",null,[t("td",{class:"px-4 py-2 font-medium"},"L"),t("td",{class:"px-4 py-2"},"92-96"),t("td",{class:"px-4 py-2"},"72-76")])],-1))])])):v("",!0)])):v("",!0),t("div",ae,[t("div",le,[t("span",ne,s(a(r)("product.quantity")),1),t("div",ie,[t("button",{onClick:F,class:"px-4 py-2 text-text-secondary hover:text-text-primary transition-colors disabled:opacity-50",disabled:y.value<=1},"-",8,ce),t("span",de,s(y.value),1),t("button",{onClick:E,class:"px-4 py-2 text-text-secondary hover:text-text-primary transition-colors"},"+")])]),t("div",ue,[t("button",{onClick:e[1]||(e[1]=i=>V(!1)),disabled:m.value||_.value,class:x(["relative flex-1 h-12 text-sm font-bold uppercase tracking-wider overflow-hidden transition-all duration-300 border-2 border-text-primary",[m.value||_.value?"bg-surface text-text-primary cursor-default":"bg-surface text-text-primary hover:bg-surface-secondary"]])},[t("div",xe,[t("span",{class:x(["absolute transition-all duration-500 ease-out transform",m.value||_.value?"-translate-y-full opacity-0":"translate-y-0 opacity-100"])},s(a(r)("product.add_to_cart")),3),t("span",{class:x(["absolute transition-all duration-500 ease-out transform flex items-center justify-center",_.value?"translate-y-0 opacity-100":m.value?"-translate-y-full opacity-0":"translate-y-full opacity-0"])},[...e[9]||(e[9]=[t("svg",{class:"animate-spin h-5 w-5 text-text-primary",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)])],2),t("span",{class:x(["absolute transition-all duration-500 ease-out transform flex items-center gap-2",m.value?"translate-y-0 opacity-100":"translate-y-full opacity-0"])},[e[10]||(e[10]=t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{class:"animate-draw","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)),t("span",null,s(a(r)("product.add_success")),1)],2)])],10,pe),t("button",{onClick:e[2]||(e[2]=i=>V(!0)),class:"flex-1 bg-text-primary text-page h-12 text-sm font-bold uppercase tracking-wider hover:opacity-90 shadow-lg shadow-black/20 dark:shadow-white/5 transition-colors"},s(a(r)("product.buy_now")),1)])]),t("div",me,[t("div",fe,[e[11]||(e[11]=t("svg",{class:"w-5 h-5 text-text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M5 13l4 4L19 7"})],-1)),t("span",ve,s(a(r)("product.trust.authentic")),1)]),t("div",_e,[e[12]||(e[12]=t("svg",{class:"w-5 h-5 text-text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})],-1)),t("span",ye,s(a(r)("product.trust.free_ship")),1)]),t("div",he,[e[13]||(e[13]=t("svg",{class:"w-5 h-5 text-text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1)),t("span",ge,s(a(r)("product.trust.returns")),1)])])])])]),z(pt,{"is-open":b.value,title:a(r)("nav.login"),onClose:e[4]||(e[4]=i=>b.value=!1)},{footer:h(()=>[t("button",{onClick:e[3]||(e[3]=i=>b.value=!1),class:"px-4 py-2 text-sm font-medium text-text-secondary hover:text-text-primary transition-colors rounded-none"},s(a(r)("common.cancel")),1),t("button",{onClick:Q,class:"px-6 py-2 text-sm font-medium bg-text-primary text-bg-page rounded-none hover:opacity-90 transition-colors shadow-lg shadow-black/25 dark:shadow-white/5"},s(a(r)("login.submit")),1)]),default:h(()=>[t("p",be,s(a(r)("alerts.login_shopping")),1)]),_:1},8,["is-open","title"])])):(l(),n("div",ke,[t("div",we,[t("h2",Ce,s(a(r)("product.not_found")),1),z(p,{to:"/products",class:"text-accent hover:underline"},{default:h(()=>[C(s(a(r)("product.return_products")),1)]),_:1})])]))}}}),Le=N(Se,[["__scopeId","data-v-53549202"]]);export{Le as default};
