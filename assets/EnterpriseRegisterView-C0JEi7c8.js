import{d as F,u as O,A as U,m as D,g as m,i as e,t as l,f as r,N as J,F as L,r as G,q as H,j as c,D as a,G as p,h as x,E as M,b as K,w as Y,x as f,J as Q,k as W,o as _,n as I,l as X}from"./index-BQVMMhDG.js";import{_ as Z}from"./_plugin-vue_export-helper-DlAUqK2U.js";const ee={class:"flex items-center justify-center bg-page px-4 py-8 relative"},te={class:"max-w-4xl w-full"},se={class:"bg-white rounded-none shadow-none p-8 border border-gray-200"},re={class:"text-center mb-8"},oe={class:"text-3xl font-bold text-text-primary mb-2"},ne={class:"text-text-secondary"},le={class:"mb-8"},ie={class:"flex items-center justify-between relative"},ae={key:0,class:"space-y-4 animate-fade-in"},de={class:"text-xl font-bold mb-4"},ce={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},pe={class:"col-span-2"},ue={class:"block text-sm font-medium text-text-secondary mb-2"},me=["placeholder"],_e={class:"col-span-2"},be={class:"block text-sm font-medium text-text-secondary mb-2"},xe=["placeholder"],fe={class:"block text-sm font-medium text-text-secondary mb-2"},ge=["placeholder"],he={class:"block text-sm font-medium text-text-secondary mb-2"},ve=["placeholder"],ye={key:1,class:"space-y-4 animate-fade-in"},ke={class:"text-xl font-bold mb-4"},we={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ve={class:"block text-sm font-medium text-text-secondary mb-2"},Ce=["placeholder"],Se={class:"block text-sm font-medium text-text-secondary mb-2"},Ue=["placeholder"],Me={class:"col-span-2"},Ie={class:"block text-sm font-medium text-text-secondary mb-2"},Ne=["placeholder"],Ae={key:2,class:"space-y-4 animate-fade-in"},Ee={class:"text-xl font-bold mb-4"},Pe={class:"space-y-4"},Re={class:"block text-sm font-medium text-text-secondary mb-2"},Te=["placeholder"],je={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},qe={class:"block text-sm font-medium text-text-secondary mb-2"},$e={class:"border-2 border-dashed border-gray-300 rounded-none p-4 text-center cursor-pointer hover:border-black transition-colors"},ze={class:"text-sm text-gray-500"},Be={class:"block text-sm font-medium text-text-secondary mb-2"},Fe={class:"border-2 border-dashed border-gray-300 rounded-none p-4 text-center cursor-pointer hover:border-black transition-colors"},Oe={class:"text-sm text-gray-500"},De={class:"block text-sm font-medium text-text-secondary mb-2"},Je=["placeholder"],Le={key:3,class:"space-y-4 animate-fade-in"},Ge={class:"text-xl font-bold mb-4"},He={class:"space-y-4"},Ke={class:"block text-sm font-medium text-text-secondary mb-2"},Ye=["placeholder"],Qe={class:"block text-sm font-medium text-text-secondary mb-2"},We={class:"flex items-start space-x-2 cursor-pointer group"},Xe={class:"text-sm text-text-secondary group-hover:text-black transition-colors"},Ze={class:"block text-sm font-medium text-text-secondary mb-2"},et={class:"flex items-start space-x-2 cursor-pointer group"},tt={class:"text-sm text-text-secondary group-hover:text-black transition-colors"},st={key:4,class:"space-y-4 animate-fade-in"},rt={class:"text-xl font-bold mb-4"},ot={class:"space-y-4"},nt={class:"p-4 bg-gray-50 rounded-none space-y-4 border border-gray-200"},lt={class:"font-medium text-black"},it={class:"block text-sm font-medium text-text-secondary mb-2"},at=["placeholder"],dt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ct={class:"block text-sm font-medium text-text-secondary mb-2"},pt={class:"block text-sm font-medium text-text-secondary mb-2"},ut={class:"block text-sm font-medium text-text-secondary mb-2"},mt={class:"border-2 border-dashed border-gray-300 rounded-none p-4 text-center cursor-pointer hover:border-black transition-colors"},_t={class:"text-sm text-gray-500"},bt={class:"block text-sm font-medium text-text-secondary mb-2"},xt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ft={class:"block text-sm font-medium text-text-secondary mb-2"},gt={class:"flex gap-4"},ht=["placeholder"],vt={key:5,class:"bg-red-50 border border-red-200 text-red-600 text-sm text-center font-bold p-3 rounded-none animate-pulse"},yt={class:"flex justify-between pt-6 border-t border-gray-100"},kt={class:"flex gap-3"},wt=["disabled"],Vt={key:0,class:"animate-spin mr-2"},Ct={class:"mt-6 text-sm text-text-secondary"},St={class:"mr-1"},Ut={key:0,class:"fixed inset-0 z-[100] flex items-center justify-center p-4"},Mt={class:"bg-white rounded-none shadow-xl w-full max-w-sm p-6 relative z-10 animate-fade-in"},It={class:"text-xl font-bold text-text-primary mb-2"},Nt={class:"text-text-secondary mb-6"},At={class:"flex gap-3"},k=5,w="enterprise_register_form",Et=F({__name:"EnterpriseRegisterView",setup(Pt){const{t:s}=O(),N=X(),h=f(!1),v=f(!1),u=f(""),d=f(1),o=Q({companyName:"",address:"",crn:"",sic:"",vat:"",utr:"",bankAccount:"",directorInfo:"",psc:"",eoId:"",compliance:!1,ageVerify:!1,email:"",phone:"",username:"",password:"",confirmPassword:""}),y=f(""),b=f(null),C=f(""),A=i=>s(`enterprise_register.steps.${["basic","financial","kyc","industry","documents"][i-1]}`),E=()=>{const i=localStorage.getItem(w);if(i)try{const t=JSON.parse(i);Object.assign(o,t)}catch(t){console.error("Failed to load cache",t)}};U(o,i=>{localStorage.setItem(w,JSON.stringify(i))},{deep:!0});const P=()=>{h.value=!0},R=()=>{Object.keys(o).forEach(i=>{typeof o[i]=="boolean"?o[i]=!1:o[i]=""}),localStorage.removeItem(w),d.value=1,u.value="",y.value="",h.value=!1},S=i=>{switch(u.value="",i){case 1:if(!o.companyName||!o.address||!o.crn||!o.sic)return u.value=s("enterprise_register.required_error"),!1;break;case 2:if(!o.bankAccount)return u.value=s("enterprise_register.required_error"),!1;break;case 3:if(!o.directorInfo)return u.value=s("enterprise_register.required_error"),!1;break;case 4:if(!o.compliance||!o.ageVerify)return u.value=s("enterprise_register.required_error"),!1;break;case 5:if(!o.email||!o.phone||!o.username||!o.password||!o.confirmPassword)return u.value=s("enterprise_register.required_error"),!1;if(o.password!==o.confirmPassword)return u.value=s("enterprise_register.documents.password_mismatch"),!1;break}return!0},T=()=>{S(d.value)&&d.value++},j=()=>{d.value>1&&(d.value--,u.value="")},V=()=>{if(!b.value)return;const i=b.value.getContext("2d");if(!i)return;i.clearRect(0,0,b.value.width,b.value.height);const t="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let g="";for(let n=0;n<4;n++)g+=t.charAt(Math.floor(Math.random()*t.length));C.value=g,i.fillStyle="#f9fafb",i.fillRect(0,0,b.value.width,b.value.height),i.font="bold 24px Arial",i.textAlign="center",i.textBaseline="middle";for(let n=0;n<g.length;n++){const $=20+n*25,z=25,B=(Math.random()-.5)*.4;i.save(),i.translate($,z),i.rotate(B),i.fillStyle=`rgb(${Math.floor(Math.random()*100)}, ${Math.floor(Math.random()*100)}, ${Math.floor(Math.random()*100)})`,i.fillText(g[n],0,0),i.restore()}i.strokeStyle="#e5e7eb";for(let n=0;n<5;n++)i.beginPath(),i.moveTo(Math.random()*b.value.width,Math.random()*b.value.height),i.lineTo(Math.random()*b.value.width,Math.random()*b.value.height),i.stroke()},q=async()=>{if(S(5)){if(!y.value||y.value.toUpperCase()!==C.value){u.value=s("login.captcha_error"),V();return}v.value=!0;try{await new Promise(i=>setTimeout(i,1500)),localStorage.removeItem(w),N.push({name:"login",query:{registered:"true",type:"enterprise"}})}catch{u.value=s("common.error")}finally{v.value=!1}}};return D(()=>{E()}),U(d,i=>{i===5&&setTimeout(V,100)}),(i,t)=>{const g=W("router-link");return _(),m("div",ee,[e("div",te,[e("div",se,[e("div",re,[e("h1",oe,l(r(s)("enterprise_register.title")),1),e("p",ne,l(r(s)("enterprise_register.subtitle")),1)]),e("div",le,[e("div",ie,[t[20]||(t[20]=e("div",{class:"absolute left-0 top-1/2 transform -translate-y-1/2 w-full h-1 bg-gray-200 -z-10"},null,-1)),e("div",{class:"absolute left-0 top-1/2 transform -translate-y-1/2 h-1 bg-black transition-all duration-300 -z-10",style:J({width:`${(d.value-1)/(k-1)*100}%`})},null,4),(_(),m(L,null,G(k,n=>e("div",{key:n,class:"flex flex-col items-center gap-2"},[e("div",{class:I(["w-8 h-8 rounded-none flex items-center justify-center text-sm font-bold transition-colors duration-300",d.value>=n?"bg-black text-white":"bg-gray-200 text-gray-500"])},l(n),3),e("span",{class:I(["text-xs font-medium hidden sm:block",d.value>=n?"text-black":"text-gray-400"])},l(A(n)),3)])),64))])]),e("form",{onSubmit:H(q,["prevent"]),class:"space-y-6"},[d.value===1?(_(),m("div",ae,[e("h2",de,l(r(s)("enterprise_register.basic.title")),1),e("div",ce,[e("div",pe,[e("label",ue,[c(l(r(s)("enterprise_register.basic.company_name"))+" ",1),t[21]||(t[21]=e("span",{class:"text-red-500"},"*",-1))]),a(e("input",{"onUpdate:modelValue":t[0]||(t[0]=n=>o.companyName=n),type:"text",class:"input-field",placeholder:r(s)("enterprise_register.basic.company_name_hint")},null,8,me),[[p,o.companyName]])]),e("div",_e,[e("label",be,[c(l(r(s)("enterprise_register.basic.address"))+" ",1),t[22]||(t[22]=e("span",{class:"text-red-500"},"*",-1))]),a(e("input",{"onUpdate:modelValue":t[1]||(t[1]=n=>o.address=n),type:"text",class:"input-field",placeholder:r(s)("enterprise_register.basic.address_hint")},null,8,xe),[[p,o.address]])]),e("div",null,[e("label",fe,[c(l(r(s)("enterprise_register.basic.crn"))+" ",1),t[23]||(t[23]=e("span",{class:"text-red-500"},"*",-1))]),a(e("input",{"onUpdate:modelValue":t[2]||(t[2]=n=>o.crn=n),type:"text",class:"input-field",placeholder:r(s)("enterprise_register.basic.crn_hint")},null,8,ge),[[p,o.crn]])]),e("div",null,[e("label",he,[c(l(r(s)("enterprise_register.basic.sic"))+" ",1),t[24]||(t[24]=e("span",{class:"text-red-500"},"*",-1))]),a(e("input",{"onUpdate:modelValue":t[3]||(t[3]=n=>o.sic=n),type:"text",class:"input-field",placeholder:r(s)("enterprise_register.basic.sic_hint")},null,8,ve),[[p,o.sic]])])])])):x("",!0),d.value===2?(_(),m("div",ye,[e("h2",ke,l(r(s)("enterprise_register.financial.title")),1),e("div",we,[e("div",null,[e("label",Ve,l(r(s)("enterprise_register.financial.vat")),1),a(e("input",{"onUpdate:modelValue":t[4]||(t[4]=n=>o.vat=n),type:"text",class:"input-field",placeholder:r(s)("enterprise_register.financial.vat_hint")},null,8,Ce),[[p,o.vat]])]),e("div",null,[e("label",Se,l(r(s)("enterprise_register.financial.utr")),1),a(e("input",{"onUpdate:modelValue":t[5]||(t[5]=n=>o.utr=n),type:"text",class:"input-field",placeholder:r(s)("enterprise_register.financial.utr_hint")},null,8,Ue),[[p,o.utr]])]),e("div",Me,[e("label",Ie,[c(l(r(s)("enterprise_register.financial.bank_account"))+" ",1),t[25]||(t[25]=e("span",{class:"text-red-500"},"*",-1))]),a(e("textarea",{"onUpdate:modelValue":t[6]||(t[6]=n=>o.bankAccount=n),rows:"3",class:"input-field",placeholder:r(s)("enterprise_register.financial.bank_account_hint")},null,8,Ne),[[p,o.bankAccount]])])])])):x("",!0),d.value===3?(_(),m("div",Ae,[e("h2",Ee,l(r(s)("enterprise_register.kyc.title")),1),e("div",Pe,[e("div",null,[e("label",Re,[c(l(r(s)("enterprise_register.kyc.director_info"))+" ",1),t[26]||(t[26]=e("span",{class:"text-red-500"},"*",-1))]),a(e("textarea",{"onUpdate:modelValue":t[7]||(t[7]=n=>o.directorInfo=n),rows:"3",class:"input-field",placeholder:r(s)("enterprise_register.kyc.director_hint")},null,8,Te),[[p,o.directorInfo]])]),e("div",je,[e("div",null,[e("label",qe,[c(l(r(s)("enterprise_register.kyc.proof_id"))+" ",1),t[27]||(t[27]=e("span",{class:"text-red-500"},"*",-1))]),e("div",$e,[e("span",ze,l(r(s)("enterprise_register.kyc.proof_id_hint")),1)])]),e("div",null,[e("label",Be,[c(l(r(s)("enterprise_register.kyc.proof_address"))+" ",1),t[28]||(t[28]=e("span",{class:"text-red-500"},"*",-1))]),e("div",Fe,[e("span",Oe,l(r(s)("enterprise_register.kyc.proof_address_hint")),1)])])]),e("div",null,[e("label",De,l(r(s)("enterprise_register.kyc.psc")),1),a(e("textarea",{"onUpdate:modelValue":t[8]||(t[8]=n=>o.psc=n),rows:"2",class:"input-field",placeholder:r(s)("enterprise_register.kyc.psc_hint")},null,8,Je),[[p,o.psc]])])])])):x("",!0),d.value===4?(_(),m("div",Le,[e("h2",Ge,l(r(s)("enterprise_register.industry.title")),1),e("div",He,[e("div",null,[e("label",Ke,l(r(s)("enterprise_register.industry.eo_id")),1),a(e("input",{"onUpdate:modelValue":t[9]||(t[9]=n=>o.eoId=n),type:"text",class:"input-field",placeholder:r(s)("enterprise_register.industry.eo_id_hint")},null,8,Ye),[[p,o.eoId]])]),e("div",null,[e("label",Qe,[c(l(r(s)("enterprise_register.industry.compliance"))+" ",1),t[29]||(t[29]=e("span",{class:"text-red-500"},"*",-1))]),e("label",We,[a(e("input",{"onUpdate:modelValue":t[10]||(t[10]=n=>o.compliance=n),type:"checkbox",class:"checkbox-field"},null,512),[[M,o.compliance]]),e("span",Xe,l(r(s)("enterprise_register.industry.compliance_hint")),1)])]),e("div",null,[e("label",Ze,[c(l(r(s)("enterprise_register.industry.age_verify"))+" ",1),t[30]||(t[30]=e("span",{class:"text-red-500"},"*",-1))]),e("label",et,[a(e("input",{"onUpdate:modelValue":t[11]||(t[11]=n=>o.ageVerify=n),type:"checkbox",class:"checkbox-field"},null,512),[[M,o.ageVerify]]),e("span",tt,l(r(s)("enterprise_register.industry.age_verify_hint")),1)])])])])):x("",!0),d.value===5?(_(),m("div",st,[e("h2",rt,l(r(s)("enterprise_register.documents.title")),1),e("div",ot,[e("div",nt,[e("h3",lt,l(r(s)("enterprise_register.documents.account_info")),1),e("div",null,[e("label",it,[c(l(r(s)("enterprise_register.documents.username"))+" ",1),t[31]||(t[31]=e("span",{class:"text-red-500"},"*",-1))]),a(e("input",{"onUpdate:modelValue":t[12]||(t[12]=n=>o.username=n),type:"text",class:"input-field",placeholder:r(s)("enterprise_register.documents.username_hint")},null,8,at),[[p,o.username]])]),e("div",dt,[e("div",null,[e("label",ct,[c(l(r(s)("enterprise_register.documents.password"))+" ",1),t[32]||(t[32]=e("span",{class:"text-red-500"},"*",-1))]),a(e("input",{"onUpdate:modelValue":t[13]||(t[13]=n=>o.password=n),type:"password",class:"input-field",placeholder:"••••••••"},null,512),[[p,o.password]])]),e("div",null,[e("label",pt,[c(l(r(s)("enterprise_register.documents.confirm_password"))+" ",1),t[33]||(t[33]=e("span",{class:"text-red-500"},"*",-1))]),a(e("input",{"onUpdate:modelValue":t[14]||(t[14]=n=>o.confirmPassword=n),type:"password",class:"input-field",placeholder:"••••••••"},null,512),[[p,o.confirmPassword]])])])]),e("div",null,[e("label",ut,[c(l(r(s)("enterprise_register.documents.articles"))+" ",1),t[34]||(t[34]=e("span",{class:"text-red-500"},"*",-1))]),e("div",mt,[e("span",_t,l(r(s)("enterprise_register.documents.articles_hint")),1)])]),e("div",null,[e("label",bt,[c(l(r(s)("enterprise_register.documents.contact"))+" ",1),t[35]||(t[35]=e("span",{class:"text-red-500"},"*",-1))]),e("div",xt,[a(e("input",{"onUpdate:modelValue":t[15]||(t[15]=n=>o.email=n),type:"email",class:"input-field",placeholder:"Email"},null,512),[[p,o.email]]),a(e("input",{"onUpdate:modelValue":t[16]||(t[16]=n=>o.phone=n),type:"tel",class:"input-field",placeholder:"Phone"},null,512),[[p,o.phone]])])]),e("div",null,[e("label",ft,l(r(s)("login.captcha")),1),e("div",gt,[a(e("input",{"onUpdate:modelValue":t[17]||(t[17]=n=>y.value=n),type:"text",class:"flex-1 input-field",placeholder:r(s)("login.captcha")},null,8,ht),[[p,y.value]]),e("canvas",{ref_key:"captchaCanvas",ref:b,width:"120",height:"50",class:"cursor-pointer rounded-none border border-border bg-gray-50",onClick:V,title:"Click to refresh"},null,512)])])])])):x("",!0),u.value?(_(),m("div",vt,l(u.value),1)):x("",!0),e("div",yt,[e("button",{type:"button",onClick:P,class:"px-6 py-2 text-sm font-medium text-gray-500 hover:text-red-500 transition-colors"},l(r(s)("enterprise_register.reset")),1),e("div",kt,[d.value>1?(_(),m("button",{key:0,type:"button",onClick:j,class:"px-6 py-2 rounded-none border border-gray-300 hover:bg-gray-50 transition-colors"},l(r(s)("enterprise_register.prev")),1)):x("",!0),d.value<k?(_(),m("button",{key:1,type:"button",onClick:T,class:"px-6 py-2 rounded-none bg-black text-white hover:bg-gray-800 transition-colors"},l(r(s)("enterprise_register.next")),1)):x("",!0),d.value===k?(_(),m("button",{key:2,type:"submit",disabled:v.value,class:"px-6 py-2 rounded-none bg-black text-white hover:bg-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center"},[v.value?(_(),m("span",Vt,"⚪")):x("",!0),c(" "+l(v.value?r(s)("login.submitting"):r(s)("enterprise_register.submit")),1)],8,wt)):x("",!0)])])],32)]),e("div",Ct,[e("span",St,l(r(s)("register.has_account")),1),K(g,{to:"/login",class:"text-accent hover:text-accent-hover font-medium"},{default:Y(()=>[c(l(r(s)("register.login_now")),1)]),_:1})])]),h.value?(_(),m("div",Ut,[e("div",{class:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t[18]||(t[18]=n=>h.value=!1)}),e("div",Mt,[e("h3",It,l(r(s)("enterprise_register.reset_title")),1),e("p",Nt,l(r(s)("enterprise_register.reset_confirm")),1),e("div",At,[e("button",{onClick:t[19]||(t[19]=n=>h.value=!1),class:"flex-1 px-4 py-2 rounded-none border border-gray-300 hover:bg-gray-50 transition-colors font-medium"},l(r(s)("common.cancel")),1),e("button",{onClick:R,class:"flex-1 px-4 py-2 rounded-none bg-red-600 text-white hover:bg-red-700 transition-colors font-medium"},l(r(s)("common.confirm")),1)])])])):x("",!0)])}}}),jt=Z(Et,[["__scopeId","data-v-ae5dd545"]]);export{jt as default};
