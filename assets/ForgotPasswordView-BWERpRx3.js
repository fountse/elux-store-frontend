import{d as V,u as j,o as E,v as N,i as r,k as e,b as g,e as v,t as o,F as S,l as z,j as k,h as s,x as B,E as F,H as O,m,r as d,c as T,p as U,g as l,n as D}from"./index-BRZcPDXQ.js";const I={class:"min-h-screen flex items-center justify-center bg-page px-4 relative"},P={class:"absolute top-4 left-4 z-50"},R={class:"absolute top-4 right-4 z-50"},q={class:"text-sm font-medium text-text-primary"},H={key:0,class:"absolute right-0 mt-2 w-32 bg-surface rounded-lg shadow-lg border border-border py-1"},$=["onClick"],A={class:"max-w-md w-full p-8"},G={class:"text-center mb-8"},J={class:"text-3xl font-bold text-text-primary mb-2"},K={class:"text-text-secondary"},Q={key:0,class:"bg-green-50 border border-green-100 text-green-800 rounded-xl p-4 text-center mb-6"},W={class:"mt-4"},X={class:"block text-sm font-medium text-text-secondary mb-2"},Y=["placeholder"],Z=["disabled"],ee={key:0,class:"animate-spin mr-2"},te={class:"mt-4 text-center text-sm text-text-secondary"},ne=V({__name:"ForgotPasswordView",setup(oe){const{t,locale:b}=j(),p=d(""),i=d(!1),h=d(!1),c=d(!1),x=d(null),f=[{code:"en-US",name:"English"},{code:"zh-CN",name:"中文"}],y=T(()=>f.find(a=>a.code===b.value)||f[0]),C=()=>{c.value=!c.value},L=a=>{b.value=a,localStorage.setItem("locale",a),c.value=!1},w=a=>{x.value&&!x.value.contains(a.target)&&(c.value=!1)};E(()=>{document.addEventListener("click",w)}),N(()=>{document.removeEventListener("click",w)});const M=async()=>{i.value=!0,await new Promise(a=>setTimeout(a,1500)),i.value=!1,h.value=!0};return(a,u)=>{const _=U("router-link");return l(),r("div",I,[e("div",P,[g(_,{to:"/",class:"text-text-primary font-bold text-xl tracking-wide hover:opacity-80 transition-opacity"},{default:v(()=>[m(o(s(t)("brand.name")),1)]),_:1})]),e("div",R,[e("div",{class:"relative",ref_key:"langMenuRef",ref:x},[e("button",{onClick:C,class:"flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-surface-secondary transition-colors"},[e("span",q,o(y.value.name),1),u[1]||(u[1]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4 text-text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1))]),c.value?(l(),r("div",H,[(l(),r(S,null,z(f,n=>e("button",{key:n.code,onClick:se=>L(n.code),class:D(["w-full text-left px-4 py-2 text-sm text-text-primary hover:bg-surface-secondary transition-colors",{"text-accent font-medium":n.code===y.value.code}])},o(n.name),11,$)),64))])):k("",!0)],512)]),e("div",A,[e("div",G,[e("h1",J,o(s(t)("forgot_password.title")),1),e("p",K,o(s(t)("forgot_password.subtitle")),1)]),h.value?(l(),r("div",Q,[e("p",null,o(s(t)("forgot_password.success",{email:p.value})),1),e("div",W,[g(_,{to:"/login",class:"text-accent hover:text-accent-hover font-medium"},{default:v(()=>[m(o(s(t)("forgot_password.back_to_login")),1)]),_:1})])])):(l(),r("form",{key:1,onSubmit:B(M,["prevent"]),class:"space-y-6"},[e("div",null,[e("label",X,o(s(t)("forgot_password.email")),1),F(e("input",{"onUpdate:modelValue":u[0]||(u[0]=n=>p.value=n),type:"email",required:"",class:"w-full bg-surface border border-border rounded-xl px-4 py-3 text-text-primary placeholder:text-text-tertiary focus:border-text-primary focus:ring-1 focus:ring-text-primary focus:outline-none transition-colors",placeholder:s(t)("forgot_password.email_placeholder")},null,8,Y),[[O,p.value]])]),e("button",{type:"submit",disabled:i.value,class:"w-full bg-text-primary hover:opacity-90 text-bg-page font-bold py-3 rounded-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed flex justify-center"},[i.value?(l(),r("span",ee,"⚪")):k("",!0),m(" "+o(i.value?s(t)("forgot_password.submitting"):s(t)("forgot_password.submit")),1)],8,Z),e("div",te,[g(_,{to:"/login",class:"text-accent hover:text-accent-hover font-medium"},{default:v(()=>[m(o(s(t)("forgot_password.back_to_login")),1)]),_:1})])],32))])])}}});export{ne as default};
