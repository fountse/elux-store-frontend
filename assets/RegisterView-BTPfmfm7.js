import{d as E,u as j,o as D,i as V,k as e,t as l,h as a,x as Y,m as u,E as c,H as x,G as T,j as R,b as N,e as P,r as n,p as $,g as U,q as G}from"./index-7FrspKv6.js";const H={class:"flex items-center justify-center bg-page px-4 py-8 relative"},L={class:"max-w-md w-full p-8"},F={class:"text-center mb-8"},I={class:"text-3xl font-bold text-text-primary mb-2"},J={class:"text-text-secondary"},K={class:"text-sm font-bold text-text-primary mb-3"},Q={class:"grid grid-cols-2 gap-4"},W={class:"block text-sm font-medium text-text-secondary mb-2"},X={class:"block text-sm font-medium text-text-secondary mb-2"},Z={class:"block text-sm font-medium text-text-secondary mb-2"},z={class:"block text-sm font-medium text-text-secondary mb-2"},O={class:"block text-sm font-medium text-text-secondary mb-2"},ee={class:"block text-sm font-medium text-text-secondary mb-2"},te={class:"text-xs text-text-secondary mt-1 italic"},re={class:"space-y-3"},oe={class:"flex items-start space-x-2 cursor-pointer group"},se={class:"text-sm text-text-secondary leading-tight group-hover:text-text-primary transition-colors"},ae={class:"flex items-start space-x-2 cursor-pointer group"},le={class:"text-sm text-text-secondary leading-tight group-hover:text-text-primary transition-colors"},ne={class:"block text-sm font-medium text-text-secondary mb-2"},ie={class:"flex gap-4"},de=["placeholder"],ue={key:0,class:"text-error text-sm text-center font-medium"},ce=["disabled"],pe={key:0,class:"animate-spin mr-2"},xe={class:"mt-6 text-center text-sm text-text-secondary space-y-3"},me={class:"mr-1"},ve=E({__name:"RegisterView",setup(fe){const{t:s}=j(),S=G(),h=n(""),_=n(""),w=n(""),f=n(""),b=n(""),k=n(""),M=n(!1),C=n(!1),v=n(""),d=n(""),m=n(!1),i=n(null),g=n(""),A=r=>{const t="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let p="";for(let o=0;o<r;o++)p+=t.charAt(Math.floor(Math.random()*t.length));return p},y=()=>{if(!i.value)return;const r=i.value.getContext("2d");if(r){r.clearRect(0,0,i.value.width,i.value.height),g.value=A(4),r.fillStyle="#ffffff",r.fillRect(0,0,i.value.width,i.value.height),r.font="bold 24px Arial",r.textAlign="center",r.textBaseline="middle";for(let t=0;t<g.value.length;t++){const p=20+t*25,o=25,q=(Math.random()-.5)*.4;r.save(),r.translate(p,o),r.rotate(q),r.fillStyle=`rgb(${Math.floor(Math.random()*100)}, ${Math.floor(Math.random()*100)}, ${Math.floor(Math.random()*100)})`,r.fillText(g.value[t],0,0),r.restore()}r.strokeStyle="#e5e7eb";for(let t=0;t<5;t++)r.beginPath(),r.moveTo(Math.random()*i.value.width,Math.random()*i.value.height),r.lineTo(Math.random()*i.value.width,Math.random()*i.value.height),r.stroke()}};D(()=>{y()});const B=async()=>{if(d.value="",!h.value||!_.value||!w.value||!f.value||!b.value||!k.value){d.value="Please fill in all required fields";return}if(f.value!==b.value){d.value="Passwords do not match";return}if(!M.value){d.value="You must agree to the Terms and Conditions";return}if(!C.value){d.value="You must certify your age";return}if(!v.value||v.value.toUpperCase()!==g.value){d.value=s("login.captcha_error"),y();return}m.value=!0;try{await new Promise(r=>setTimeout(r,1500)),S.push({name:"login",query:{registered:"true"}})}catch{d.value="Registration failed",y()}finally{m.value=!1}};return(r,t)=>{const p=$("router-link");return U(),V("div",H,[e("div",L,[e("div",F,[e("h1",I,l(a(s)("register.title")),1),e("p",J,l(a(s)("register.subtitle")),1)]),e("form",{onSubmit:Y(B,["prevent"]),class:"space-y-5"},[e("div",null,[e("p",K,l(a(s)("register.legal_name_hint")),1),e("div",Q,[e("div",null,[e("label",W,[u(l(a(s)("register.first_name"))+" ",1),t[9]||(t[9]=e("span",{class:"text-error"},"*",-1))]),c(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>h.value=o),type:"text",class:"w-full bg-surface border border-border rounded-none px-4 py-3 text-text-primary placeholder:text-text-tertiary focus:border-text-primary focus:ring-0 focus:outline-none transition-colors"},null,512),[[x,h.value]])]),e("div",null,[e("label",X,[u(l(a(s)("register.last_name"))+" ",1),t[10]||(t[10]=e("span",{class:"text-error"},"*",-1))]),c(e("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>_.value=o),type:"text",class:"w-full bg-surface border border-border rounded-none px-4 py-3 text-text-primary placeholder:text-text-tertiary focus:border-text-primary focus:ring-0 focus:outline-none transition-colors"},null,512),[[x,_.value]])])])]),e("div",null,[e("label",Z,[u(l(a(s)("register.email"))+" ",1),t[11]||(t[11]=e("span",{class:"text-error"},"*",-1))]),c(e("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>w.value=o),type:"email",class:"w-full bg-surface border border-border rounded-none px-4 py-3 text-text-primary placeholder:text-text-tertiary focus:border-text-primary focus:ring-0 focus:outline-none transition-colors"},null,512),[[x,w.value]])]),e("div",null,[e("label",z,[u(l(a(s)("register.create_password"))+" ",1),t[12]||(t[12]=e("span",{class:"text-error"},"*",-1))]),c(e("input",{"onUpdate:modelValue":t[3]||(t[3]=o=>f.value=o),type:"password",class:"w-full bg-surface border border-border rounded-none px-4 py-3 text-text-primary placeholder:text-text-tertiary focus:border-text-primary focus:ring-0 focus:outline-none transition-colors"},null,512),[[x,f.value]])]),e("div",null,[e("label",O,[u(l(a(s)("register.confirm_password"))+" ",1),t[13]||(t[13]=e("span",{class:"text-red-500"},"*",-1))]),c(e("input",{"onUpdate:modelValue":t[4]||(t[4]=o=>b.value=o),type:"password",class:"w-full bg-surface border border-border rounded-none px-4 py-3 text-text-primary placeholder:text-text-tertiary focus:border-text-primary focus:ring-0 focus:outline-none transition-colors"},null,512),[[x,b.value]])]),e("div",null,[e("label",ee,[u(l(a(s)("register.dob"))+" ",1),t[14]||(t[14]=e("span",{class:"text-error"},"*",-1))]),c(e("input",{"onUpdate:modelValue":t[5]||(t[5]=o=>k.value=o),type:"date",class:"w-full bg-surface border border-border rounded-none px-4 py-3 text-text-primary placeholder:text-text-tertiary focus:border-text-primary focus:ring-0 focus:outline-none transition-colors"},null,512),[[x,k.value]]),e("p",te,l(a(s)("register.age_requirement")),1)]),e("div",re,[e("label",oe,[c(e("input",{"onUpdate:modelValue":t[6]||(t[6]=o=>M.value=o),type:"checkbox",class:"mt-1 w-4 h-4 shrink-0 border border-border text-text-primary focus:ring-text-primary cursor-pointer transition-transform duration-200 ease-in-out active:scale-95"},null,512),[[T,M.value]]),e("span",se,l(a(s)("register.agree_terms")),1)]),e("label",ae,[c(e("input",{"onUpdate:modelValue":t[7]||(t[7]=o=>C.value=o),type:"checkbox",class:"mt-1 w-4 h-4 shrink-0 border border-border text-text-primary focus:ring-text-primary cursor-pointer transition-transform duration-200 ease-in-out active:scale-95"},null,512),[[T,C.value]]),e("span",le,l(a(s)("register.agree_age")),1)])]),e("div",null,[e("label",ne,l(a(s)("login.captcha")),1),e("div",ie,[c(e("input",{"onUpdate:modelValue":t[8]||(t[8]=o=>v.value=o),type:"text",class:"flex-1 bg-surface border border-border rounded-none px-4 py-3 text-text-primary placeholder:text-text-tertiary focus:border-text-primary focus:ring-0 focus:outline-none transition-colors",placeholder:a(s)("login.captcha")},null,8,de),[[x,v.value]]),e("canvas",{ref_key:"captchaCanvas",ref:i,width:"120",height:"50",class:"cursor-pointer rounded-none border border-border bg-surface-secondary",onClick:y,title:"Click to refresh"},null,512)])]),d.value?(U(),V("div",ue,l(d.value),1)):R("",!0),e("button",{type:"submit",disabled:m.value,class:"w-full bg-text-primary hover:opacity-90 text-bg-page font-bold py-3 rounded-none transition-all disabled:opacity-50 disabled:cursor-not-allowed flex justify-center"},[m.value?(U(),V("span",pe,"âšª")):R("",!0),u(" "+l(m.value?a(s)("register.submitting"):a(s)("register.submit")),1)],8,ce),e("div",xe,[e("div",null,[e("span",me,l(a(s)("register.has_account")),1),N(p,{to:"/login",class:"text-accent hover:text-accent-hover font-medium"},{default:P(()=>[u(l(a(s)("register.login_now")),1)]),_:1})]),e("div",null,[N(p,{to:"/register/enterprise",class:"text-text-secondary hover:text-text-primary font-medium underline underline-offset-4"},{default:P(()=>[u(l(a(s)("register.register_business")),1)]),_:1})])])],32)])])}}});export{ve as default};
