import{d as D,u as $,m as z,g as r,i as e,t as o,f as i,F as _,r as f,B as A,C as B,b as x,a as Q,h as b,e as R,x as h,c as T,o as a,n as w,q as V,l as F}from"./index-BHA_9EEM.js";import{u as U}from"./product-D4jDZyse.js";import{u as H}from"./cart-C8CNgBpq.js";import{c as k}from"./createLucideIcon-_V4BUQ3N.js";import{X as W,P as X}from"./x-BwDmUxlu.js";import{_ as Y}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./user-DU_8BvVJ.js";/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=k("MinusIcon",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=k("SearchIcon",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=k("ShoppingCartIcon",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),Z={class:"min-h-screen bg-surface pb-24"},ee={class:"w-full lg:w-[75%] mx-auto px-4 sm:px-6"},te={class:"flex flex-col md:flex-row justify-between items-end mb-8 pt-10 gap-6"},se={class:"text-3xl text-text-primary mb-2 font-bold tracking-tight uppercase"},oe={class:"text-sm text-text-secondary max-w-xl"},ae={class:"flex flex-col gap-6"},re={class:"sticky top-[56px] z-20 bg-surface/95 backdrop-blur py-4 border-b border-white/5 transition-all duration-300"},le={class:"flex flex-col md:flex-row items-center justify-between gap-4"},ie={class:"flex flex-row overflow-x-auto gap-8 no-scrollbar items-center justify-start w-full md:w-auto px-1"},ne=["onClick"],ce={class:"relative w-full md:w-64 shrink-0"},de={class:"min-h-[50vh]"},ue={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5"},he=["onClick"],pe={class:"w-32 h-32 shrink-0 flex items-center justify-center relative bg-surface rounded-xl p-2"},xe=["src","alt"],me={class:"absolute top-0 left-0 z-10 flex flex-col gap-1"},_e={key:0,class:"bg-text-primary text-page text-[10px] font-bold px-2 py-0.5 rounded-full leading-none shadow-sm"},fe={class:"flex-1 flex flex-col items-start justify-between h-32 py-1"},be={class:"w-full"},ve={class:"text-lg font-bold text-text-primary mb-1 uppercase tracking-wider group-hover:text-text-secondary transition-colors line-clamp-2 text-left"},ye={class:"text-xs text-text-tertiary font-medium uppercase tracking-wide line-clamp-2 text-left mb-2"},ge={class:"flex items-center justify-end w-full mt-auto relative mb-4"},we=["onClick","title"],ke={class:"flex items-center justify-center w-full"},Ce={key:1,class:"text-center py-24 text-text-secondary"},je={key:0,class:"fixed inset-0 z-50 flex items-center justify-center px-4"},Ie={class:"relative bg-white dark:bg-[#1c1c1e] rounded-2xl w-full max-w-md shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200"},Se={class:"flex items-center justify-between p-4 border-b border-border bg-white dark:bg-[#1c1c1e]"},Pe={class:"text-lg font-bold text-text-primary"},Le={key:0,class:"p-6 space-y-6"},Me={class:"flex gap-4"},qe={class:"w-20 h-20 bg-surface rounded-lg p-2 flex items-center justify-center shrink-0"},Ee=["src","alt"],Ne={class:"font-bold text-text-primary line-clamp-2"},Oe={class:"text-accent font-bold mt-1"},De={key:0,class:"space-y-4"},$e={class:"text-sm font-medium text-text-secondary"},ze={class:"flex flex-wrap gap-2"},Ae=["onClick"],Be={class:"space-y-2"},Qe={class:"text-sm font-medium text-text-secondary"},Re={class:"flex items-center gap-4"},Te={class:"flex items-center bg-surface rounded-lg p-1"},Ve=["disabled"],Fe={class:"w-12 text-center font-bold text-text-primary"},Ue=D({__name:"ProductList",setup(He){const S=F(),{t:u}=$(),C=U(),j=H(),v=h(!1),l=h(null),d=h(1),p=h({}),m=h(""),P=n=>j.items.filter(s=>s.productId===n).reduce((s,t)=>s+t.quantity,0),L=n=>{l.value=n,d.value=1,p.value={},n.variants&&n.variants.length>0&&n.variants.forEach(s=>{s.options&&s.options.length>0&&(p.value[s.name]=s.options[0])}),v.value=!0},y=()=>{v.value=!1,l.value=null},M=()=>{d.value++},q=()=>{d.value>1&&d.value--},E=(n,s)=>{p.value[n]=s},N=async()=>{if(!l.value)return;const n=Object.values(p.value).join(", ");await j.addItem(l.value,d.value,n||void 0),y()},g=h("all"),O=[{id:"all",label:"ALL"},{id:"new_arrival",label:"NEW ARRIVAL"},{id:"disposable",label:"DISPOSABLE"},{id:"pod_system",label:"POD SYSTEM"},{id:"e_liquid",label:"E-LIQUID"},{id:"nicotine_pouch",label:"NICOTINE POUCH"},{id:"odm_oem",label:"ODM/OEM"}],I=T(()=>{let s=C.products;if(m.value.trim()){const t=m.value.toLowerCase().trim();s=s.filter(c=>c.name.toLowerCase().includes(t)||c.shortDescription.toLowerCase().includes(t)||c.description.toLowerCase().includes(t))}switch(g.value){case"all":return s;case"new_arrival":return s.filter(t=>t.isNew);case"disposable":return s.filter(t=>t.category==="disposable");case"pod_system":return s.filter(t=>t.category==="pod_kits");case"e_liquid":return s.filter(t=>t.category==="e_liquids");case"nicotine_pouch":return s.filter(t=>t.category==="nicotine_pouch");case"odm_oem":return s.filter(t=>t.category==="odm_oem");default:return s}});return z(async()=>{await C.fetchProducts()}),(n,s)=>(a(),r("div",Z,[e("div",ee,[e("div",te,[e("div",null,[e("h1",se,o(i(u)("nav.products")),1),e("p",oe,o(i(u)("home.hero.subtitle")),1)])]),e("div",ae,[e("div",re,[e("div",le,[e("div",ie,[(a(),r(_,null,f(O,t=>e("button",{key:t.id,onClick:c=>g.value=t.id,class:w(["px-0 py-1 text-sm font-bold tracking-widest uppercase transition-colors duration-200 border-b-2 hover:text-text-primary shrink-0",g.value===t.id?"text-text-primary border-text-primary":"text-text-tertiary border-transparent"])},o(t.label),11,ne)),64))]),e("div",ce,[A(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>m.value=t),type:"text",placeholder:"Search...",class:"w-full pl-10 pr-4 py-2 rounded-full bg-surface-secondary border border-border focus:border-text-primary focus:ring-1 focus:ring-text-primary outline-none transition-all text-sm text-text-primary placeholder:text-text-tertiary"},null,512),[[B,m.value]]),x(i(J),{class:"absolute left-3.5 top-1/2 -translate-y-1/2 w-4 h-4 text-text-tertiary"})])])]),e("div",de,[I.value.length>0?(a(),r("div",ue,[(a(!0),r(_,null,f(I.value,t=>(a(),r("div",{key:t.id,class:"product-card group cursor-pointer bg-surface-secondary rounded-2xl hover:shadow-[0_8px_30px_rgba(0,0,0,0.12)] dark:hover:shadow-[0_8px_30px_rgba(255,255,255,0.05)] hover:-translate-y-1 transition-all duration-300 p-4 flex flex-row items-center gap-4",onClick:c=>i(S).push(`/products/${t.id}`)},[e("div",pe,[e("img",{src:t.images[0],alt:t.name,class:"max-w-full max-h-full object-contain transform group-hover:scale-110 transition-transform duration-500"},null,8,xe),e("div",me,[t.isNew?(a(),r("span",_e," NEW ")):b("",!0)])]),e("div",fe,[e("div",be,[e("h3",ve,o(t.name),1),e("p",ye,o(t.shortDescription),1)]),e("div",ge,[e("button",{onClick:V(c=>L(t),["stop"]),class:w(["h-8 flex items-center justify-center transition-all duration-300 shadow-lg hover:scale-105 active:scale-95 bg-gray-900 dark:bg-[#2c2c2e] text-white hover:bg-gray-700 dark:hover:bg-[#3a3a3c] absolute right-0",[P(t.id)>0?"px-3 rounded-full w-auto hover:w-16 hover:pr-4":"w-8 rounded-full hover:w-16"]]),title:i(u)("common.add_to_cart")},[e("div",ke,[x(i(K),{class:"w-4 h-4"})])],10,we)])])],8,he))),128))])):(a(),r("div",Ce,[e("p",null,o(i(u)("common.no_products_found")),1)]))])])]),(a(),Q(R,{to:"body"},[v.value?(a(),r("div",je,[e("div",{class:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:y}),e("div",Ie,[e("div",Se,[e("h3",Pe,o(i(u)("common.add_to_cart")),1),e("button",{onClick:y,class:"p-2 hover:bg-surface rounded-full text-text-secondary transition-colors"},[x(i(W),{class:"w-5 h-5"})])]),l.value?(a(),r("div",Le,[e("div",Me,[e("div",qe,[e("img",{src:l.value.images[0],alt:l.value.name,class:"max-w-full max-h-full object-contain"},null,8,Ee)]),e("div",null,[e("h4",Ne,o(l.value.name),1),e("p",Oe,"$"+o(l.value.priceRetail),1)])]),l.value.variants&&l.value.variants.length>0?(a(),r("div",De,[(a(!0),r(_,null,f(l.value.variants,t=>(a(),r("div",{key:t.id,class:"space-y-2"},[e("label",$e,o(t.name),1),e("div",ze,[(a(!0),r(_,null,f(t.options,c=>(a(),r("button",{key:c,onClick:We=>E(t.name,c),class:w(["px-3 py-1.5 rounded-lg text-sm font-medium transition-all border",p.value[t.name]===c?"bg-gray-900 dark:bg-white text-white dark:text-black border-gray-900 dark:border-white font-bold shadow-sm":"bg-white dark:bg-transparent text-gray-600 dark:text-gray-400 border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-500 hover:text-gray-900 dark:hover:text-white"])},o(c),11,Ae))),128))])]))),128))])):b("",!0),e("div",Be,[e("label",Qe,o(i(u)("cart.quantity")),1),e("div",Re,[e("div",Te,[e("button",{onClick:q,class:"p-2 hover:bg-bg-page rounded-md text-text-primary transition-colors disabled:opacity-50",disabled:d.value<=1},[x(i(G),{class:"w-4 h-4"})],8,Ve),e("span",Fe,o(d.value),1),e("button",{onClick:M,class:"p-2 hover:bg-bg-page rounded-md text-text-primary transition-colors"},[x(i(X),{class:"w-4 h-4"})])])])]),e("button",{onClick:N,class:"w-full py-3 bg-gray-900 dark:bg-[#2c2c2e] text-white font-bold rounded-xl hover:bg-gray-800 dark:hover:bg-[#3a3a3c] transition-all active:scale-[0.98] shadow-lg"},o(i(u)("common.add_to_cart"))+" - $"+o((l.value.priceRetail*d.value).toFixed(2)),1)])):b("",!0)])])):b("",!0)]))]))}}),tt=Y(Ue,[["__scopeId","data-v-d10ae1a5"]]);export{tt as default};
