import{d as V,u as j,m as E,p as N,g as l,i as e,b as v,w as b,t as o,F as S,r as z,h as k,f as s,q as B,E as F,H as O,j as m,x as d,c as T,k as U,o as r,n as q}from"./index-CEzz54Df.js";const D={class:"min-h-screen flex items-center justify-center bg-page px-4 relative"},I={class:"absolute top-4 left-4 z-50"},P={class:"absolute top-4 right-4 z-50"},R={class:"text-sm font-medium"},H={key:0,class:"absolute right-0 mt-2 w-32 bg-white rounded-lg shadow-lg border border-gray-100 py-1"},$=["onClick"],A={class:"max-w-md w-full p-8"},G={class:"text-center mb-8"},J={class:"text-3xl font-bold text-text-primary mb-2"},K={class:"text-text-secondary"},Q={key:0,class:"bg-green-50 border border-green-100 text-green-800 rounded-xl p-4 text-center mb-6"},W={class:"mt-4"},X={class:"block text-sm font-medium text-text-secondary mb-2"},Y=["placeholder"],Z=["disabled"],ee={key:0,class:"animate-spin mr-2"},te={class:"mt-4 text-center text-sm text-text-secondary"},ne=V({__name:"ForgotPasswordView",setup(oe){const{t,locale:x}=j(),g=d(""),i=d(!1),h=d(!1),c=d(!1),p=d(null),_=[{code:"en-US",name:"English"},{code:"zh-CN",name:"中文"}],w=T(()=>_.find(a=>a.code===x.value)||_[0]),C=()=>{c.value=!c.value},L=a=>{x.value=a,localStorage.setItem("locale",a),c.value=!1},y=a=>{p.value&&!p.value.contains(a.target)&&(c.value=!1)};E(()=>{document.addEventListener("click",y)}),N(()=>{document.removeEventListener("click",y)});const M=async()=>{i.value=!0,await new Promise(a=>setTimeout(a,1500)),i.value=!1,h.value=!0};return(a,u)=>{const f=U("router-link");return r(),l("div",D,[e("div",I,[v(f,{to:"/",class:"text-text-primary font-bold text-xl tracking-wide hover:opacity-80 transition-opacity"},{default:b(()=>[m(o(s(t)("brand.name")),1)]),_:1})]),e("div",P,[e("div",{class:"relative",ref_key:"langMenuRef",ref:p},[e("button",{onClick:C,class:"flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-gray-100 transition-colors"},[e("span",R,o(w.value.name),1),u[1]||(u[1]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1))]),c.value?(r(),l("div",H,[(r(),l(S,null,z(_,n=>e("button",{key:n.code,onClick:se=>L(n.code),class:q(["w-full text-left px-4 py-2 text-sm hover:bg-gray-50 transition-colors",{"text-accent font-medium":n.code===w.value.code}])},o(n.name),11,$)),64))])):k("",!0)],512)]),e("div",A,[e("div",G,[e("h1",J,o(s(t)("forgot_password.title")),1),e("p",K,o(s(t)("forgot_password.subtitle")),1)]),h.value?(r(),l("div",Q,[e("p",null,o(s(t)("forgot_password.success",{email:g.value})),1),e("div",W,[v(f,{to:"/login",class:"text-accent hover:text-accent-hover font-medium"},{default:b(()=>[m(o(s(t)("forgot_password.back_to_login")),1)]),_:1})])])):(r(),l("form",{key:1,onSubmit:B(M,["prevent"]),class:"space-y-6"},[e("div",null,[e("label",X,o(s(t)("forgot_password.email")),1),F(e("input",{"onUpdate:modelValue":u[0]||(u[0]=n=>g.value=n),type:"email",required:"",class:"w-full bg-white border border-gray-300 rounded-xl px-4 py-3 text-gray-900 placeholder-gray-400 focus:border-black focus:ring-1 focus:ring-black focus:outline-none transition-colors",placeholder:s(t)("forgot_password.email_placeholder")},null,8,Y),[[O,g.value]])]),e("button",{type:"submit",disabled:i.value,class:"w-full bg-black hover:bg-gray-800 text-white font-bold py-3 rounded-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed flex justify-center"},[i.value?(r(),l("span",ee,"⚪")):k("",!0),m(" "+o(i.value?s(t)("forgot_password.submitting"):s(t)("forgot_password.submit")),1)],8,Z),e("div",te,[v(f,{to:"/login",class:"text-accent hover:text-accent-hover font-medium"},{default:b(()=>[m(o(s(t)("forgot_password.back_to_login")),1)]),_:1})])],32))])])}}});export{ne as default};
