import{d as N,u as C,m as M,g as c,i as e,t as o,f as l,E as d,H as b,n as m,h as p,I as A,z,J as _,F as j,r as q,j as $,l as B,K as w,c as S,o as u}from"./index-CEzz54Df.js";import{u as I}from"./cart-Cuu-ZCK-.js";import{u as L}from"./order-CQN3kDrI.js";import{u as F}from"./user-BMqs4DLJ.js";import{f as y,g as E}from"./index-BvOmRYqU.js";import{_ as D}from"./_plugin-vue_export-helper-DlAUqK2U.js";const R={class:"min-h-screen bg-white pb-12 pt-8"},Z={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},K={class:"text-3xl font-bold text-black mb-10"},O={class:"grid grid-cols-1 lg:grid-cols-12 gap-12"},T={class:"lg:col-span-7 space-y-10"},Y={class:"text-xl font-bold text-black mb-6 border-b border-gray-200 pb-2"},G={class:"grid grid-cols-1 gap-6"},H={class:"block text-sm font-medium text-gray-700 mb-2"},J={key:0,class:"mt-1 text-sm text-red-500"},P={class:"block text-sm font-medium text-gray-700 mb-2"},W={key:0,class:"mt-1 text-sm text-red-500"},X={class:"text-xl font-bold text-black mb-6 border-b border-gray-200 pb-2"},Q={class:"grid grid-cols-2 gap-6"},ee={class:"col-span-2"},te={class:"block text-sm font-medium text-gray-700 mb-2"},se={class:"block text-sm font-medium text-gray-700 mb-2"},oe={key:0,class:"mt-1 text-sm text-red-500"},le={class:"block text-sm font-medium text-gray-700 mb-2"},ae={key:0,class:"mt-1 text-sm text-red-500"},re={class:"col-span-2"},ne={class:"block text-sm font-medium text-gray-700 mb-2"},ie=["placeholder"],de={key:0,class:"mt-1 text-sm text-red-500"},ce={class:"col-span-2"},ue=["placeholder"],pe={class:"block text-sm font-medium text-gray-700 mb-2"},be={key:0,class:"mt-1 text-sm text-red-500"},me={class:"grid grid-cols-2 gap-4"},ge={class:"block text-sm font-medium text-gray-700 mb-2"},xe={key:0,class:"mt-1 text-sm text-red-500"},fe={class:"block text-sm font-medium text-gray-700 mb-2"},ye={key:0,class:"mt-1 text-sm text-red-500"},he={class:"text-xl font-bold text-black mb-6 border-b border-gray-200 pb-2"},_e={class:"space-y-4"},ke={class:"flex items-center space-x-3 cursor-pointer"},ve={class:"text-gray-700"},we={class:"flex items-center space-x-3 cursor-pointer"},Se={class:"text-gray-700"},Ue={key:0,class:"mt-6 p-6 bg-gray-50 border border-gray-200 animate-fade-in"},Ve={class:"grid grid-cols-2 gap-6"},Ne={class:"col-span-2"},Ce={class:"block text-sm font-medium text-gray-700 mb-2"},Me={class:"block text-sm font-medium text-gray-700 mb-2"},Ae={class:"block text-sm font-medium text-gray-700 mb-2"},ze={class:"text-xl font-bold text-black mb-6 border-b border-gray-200 pb-2"},je={class:"text-sm text-gray-500 mb-4"},qe={class:"space-y-4"},$e={class:"flex items-center justify-between"},Be={class:"flex items-center gap-3"},Ie={class:"font-medium"},Le={key:0,class:"mt-4 grid grid-cols-2 gap-4"},Fe={class:"flex items-center justify-between"},Ee={class:"flex items-center gap-3"},De=["disabled"],Re={class:"font-medium block"},Ze={class:"text-xs text-gray-500"},Ke={key:0,class:"mt-2 text-xs text-red-500"},Oe={key:0,class:"mt-2 text-sm text-red-500"},Te={class:"lg:col-span-5"},Ye={class:"bg-gray-50 p-8 border border-gray-200 sticky top-32 z-10"},Ge={class:"text-lg font-bold text-black mb-6"},He={class:"space-y-4 mb-6 max-h-96 overflow-y-auto pr-2"},Je={class:"w-16 h-20 bg-white border border-gray-200 flex-shrink-0 relative"},Pe=["src"],We={class:"flex-grow"},Xe={class:"text-sm font-medium text-black line-clamp-2"},Qe={class:"text-xs text-gray-500 mt-1"},et={class:"text-xs text-gray-500 mt-1"},tt={class:"text-sm font-medium text-black"},st={class:"space-y-3 pt-4 border-t border-gray-200 text-sm"},ot={class:"flex justify-between text-gray-600"},lt={class:"flex justify-between text-gray-600"},at={class:"text-green-600"},rt={class:"flex justify-between text-gray-600"},nt={class:"flex justify-between items-center mt-6 pt-6 border-t border-gray-200"},it={class:"text-lg font-bold text-black"},dt={class:"text-right"},ct={class:"text-2xl font-bold text-black"},ut=["disabled"],pt={key:0,class:"animate-spin mr-2"},bt=N({__name:"CheckoutView",setup(mt){const{t:r}=C(),x=I(),h=L(),g=F(),k=B(),t=w({email:"",phone:"",firstName:"",lastName:"",address:"",apartment:"",city:"",country:"US",state:"",zip:"",billingSameAsShipping:!0,billingAddress:"",billingCity:"",billingZip:"",paymentMethod:"card"}),n=w({});M(()=>{if(x.items.length===0){k.push("/products");return}if(g.user){t.email=g.user.email||"",t.phone=g.user.phone||"";const i=g.user.name.split(" ");i.length>0&&(t.firstName=i[0]),i.length>1&&(t.lastName=i.slice(1).join(" "))}});const v=S(()=>!g.user||g.user.creditLimit===void 0?0:(g.user.creditLimit||0)-(g.user.usedCredit||0)),f=S(()=>v.value>=x.total),U=()=>{Object.keys(n).forEach(s=>delete n[s]);let i=!0;return(!t.email||!t.email.includes("@"))&&(n.email=r("validation.email_required"),i=!1),t.firstName||(n.firstName=r("validation.first_name_required"),i=!1),t.lastName||(n.lastName=r("validation.last_name_required"),i=!1),t.address||(n.address=r("validation.address_required"),i=!1),t.city||(n.city=r("validation.city_required"),i=!1),t.state||(n.state=r("validation.state_required"),i=!1),t.zip||(n.zip=r("validation.zip_required"),i=!1),t.paymentMethod||(n.paymentMethod=r("validation.payment_method_required"),i=!1),i},V=async()=>{if(!U()){window.scrollTo({top:0,behavior:"smooth"});return}const i=`${t.address}, ${t.apartment?t.apartment+", ":""}${t.city}, ${t.state} ${t.zip}, ${t.country}`,s=t.billingSameAsShipping?i:`${t.billingAddress}, ${t.billingCity} ${t.billingZip}`,a=await h.createOrder(i,s,t.paymentMethod);a&&k.push({name:"checkout-success",query:{orderId:a.id}})};return(i,s)=>(u(),c("div",R,[e("div",Z,[e("h1",K,o(l(r)("checkout.title")),1),e("div",O,[e("div",T,[e("section",null,[e("h2",Y,o(l(r)("checkout.contact_info")),1),e("div",G,[e("div",null,[e("label",H,o(l(r)("checkout.email")),1),d(e("input",{"onUpdate:modelValue":s[0]||(s[0]=a=>t.email=a),type:"email",class:m(["w-full bg-white border border-gray-300 rounded-none px-4 py-3 text-black focus:border-black focus:ring-0 focus:outline-none transition-colors",{"border-red-500":n.email}]),placeholder:"email@example.com"},null,2),[[b,t.email]]),n.email?(u(),c("p",J,o(n.email),1)):p("",!0)]),e("div",null,[e("label",P,o(l(r)("checkout.phone")),1),d(e("input",{"onUpdate:modelValue":s[1]||(s[1]=a=>t.phone=a),type:"tel",class:m(["w-full bg-white border border-gray-300 rounded-none px-4 py-3 text-black focus:border-black focus:ring-0 focus:outline-none transition-colors",{"border-red-500":n.phone}]),placeholder:"+1 (555) 000-0000"},null,2),[[b,t.phone]]),n.phone?(u(),c("p",W,o(n.phone),1)):p("",!0)])])]),e("section",null,[e("h2",X,o(l(r)("checkout.shipping_address")),1),e("div",Q,[e("div",ee,[e("label",te,o(l(r)("checkout.country")),1),d(e("select",{"onUpdate:modelValue":s[2]||(s[2]=a=>t.country=a),class:"w-full bg-white border border-gray-300 rounded-none px-4 py-3 text-black focus:border-black focus:ring-0 focus:outline-none transition-colors appearance-none"},[...s[19]||(s[19]=[z('<option value="US" data-v-2420a1a9>United States</option><option value="UK" data-v-2420a1a9>United Kingdom</option><option value="CA" data-v-2420a1a9>Canada</option><option value="AU" data-v-2420a1a9>Australia</option><option value="DE" data-v-2420a1a9>Germany</option><option value="FR" data-v-2420a1a9>France</option>',6)])],512),[[A,t.country]])]),e("div",null,[e("label",se,o(l(r)("checkout.first_name")),1),d(e("input",{"onUpdate:modelValue":s[3]||(s[3]=a=>t.firstName=a),type:"text",class:m(["w-full bg-white border border-gray-300 rounded-none px-4 py-3 text-black focus:border-black focus:ring-0 focus:outline-none transition-colors",{"border-red-500":n.firstName}])},null,2),[[b,t.firstName]]),n.firstName?(u(),c("p",oe,o(n.firstName),1)):p("",!0)]),e("div",null,[e("label",le,o(l(r)("checkout.last_name")),1),d(e("input",{"onUpdate:modelValue":s[4]||(s[4]=a=>t.lastName=a),type:"text",class:m(["w-full bg-white border border-gray-300 rounded-none px-4 py-3 text-black focus:border-black focus:ring-0 focus:outline-none transition-colors",{"border-red-500":n.lastName}])},null,2),[[b,t.lastName]]),n.lastName?(u(),c("p",ae,o(n.lastName),1)):p("",!0)]),e("div",re,[e("label",ne,o(l(r)("checkout.address")),1),d(e("input",{"onUpdate:modelValue":s[5]||(s[5]=a=>t.address=a),type:"text",class:m(["w-full bg-white border border-gray-300 rounded-none px-4 py-3 text-black focus:border-black focus:ring-0 focus:outline-none transition-colors",{"border-red-500":n.address}]),placeholder:l(r)("checkout.address_placeholder")},null,10,ie),[[b,t.address]]),n.address?(u(),c("p",de,o(n.address),1)):p("",!0)]),e("div",ce,[d(e("input",{"onUpdate:modelValue":s[6]||(s[6]=a=>t.apartment=a),type:"text",class:"w-full bg-white border border-gray-300 rounded-none px-4 py-3 text-black focus:border-black focus:ring-0 focus:outline-none transition-colors",placeholder:l(r)("checkout.apartment_placeholder")},null,8,ue),[[b,t.apartment]])]),e("div",null,[e("label",pe,o(l(r)("checkout.city")),1),d(e("input",{"onUpdate:modelValue":s[7]||(s[7]=a=>t.city=a),type:"text",class:m(["w-full bg-white border border-gray-300 rounded-none px-4 py-3 text-black focus:border-black focus:ring-0 focus:outline-none transition-colors",{"border-red-500":n.city}])},null,2),[[b,t.city]]),n.city?(u(),c("p",be,o(n.city),1)):p("",!0)]),e("div",me,[e("div",null,[e("label",ge,o(l(r)("checkout.state")),1),d(e("input",{"onUpdate:modelValue":s[8]||(s[8]=a=>t.state=a),type:"text",class:m(["w-full bg-white border border-gray-300 rounded-none px-4 py-3 text-black focus:border-black focus:ring-0 focus:outline-none transition-colors",{"border-red-500":n.state}])},null,2),[[b,t.state]]),n.state?(u(),c("p",xe,o(n.state),1)):p("",!0)]),e("div",null,[e("label",fe,o(l(r)("checkout.zip")),1),d(e("input",{"onUpdate:modelValue":s[9]||(s[9]=a=>t.zip=a),type:"text",class:m(["w-full bg-white border border-gray-300 rounded-none px-4 py-3 text-black focus:border-black focus:ring-0 focus:outline-none transition-colors",{"border-red-500":n.zip}])},null,2),[[b,t.zip]]),n.zip?(u(),c("p",ye,o(n.zip),1)):p("",!0)])])])]),e("section",null,[e("h2",he,o(l(r)("checkout.billing_address")||"Billing Address"),1),e("div",_e,[e("label",ke,[d(e("input",{type:"radio","onUpdate:modelValue":s[10]||(s[10]=a=>t.billingSameAsShipping=a),value:!0,class:"w-5 h-5 text-black border-gray-300 focus:ring-black"},null,512),[[_,t.billingSameAsShipping]]),e("span",ve,o(l(r)("checkout.same_as_shipping")||"Same as shipping address"),1)]),e("label",we,[d(e("input",{type:"radio","onUpdate:modelValue":s[11]||(s[11]=a=>t.billingSameAsShipping=a),value:!1,class:"w-5 h-5 text-black border-gray-300 focus:ring-black"},null,512),[[_,t.billingSameAsShipping]]),e("span",Se,o(l(r)("checkout.use_different_billing")||"Use a different billing address"),1)])]),t.billingSameAsShipping?p("",!0):(u(),c("div",Ue,[e("div",Ve,[e("div",Ne,[e("label",Ce,o(l(r)("checkout.address")),1),d(e("input",{"onUpdate:modelValue":s[12]||(s[12]=a=>t.billingAddress=a),type:"text",class:"w-full bg-white border border-gray-300 rounded-none px-4 py-3 text-black focus:border-black focus:ring-0 focus:outline-none transition-colors"},null,512),[[b,t.billingAddress]])]),e("div",null,[e("label",Me,o(l(r)("checkout.city")),1),d(e("input",{"onUpdate:modelValue":s[13]||(s[13]=a=>t.billingCity=a),type:"text",class:"w-full bg-white border border-gray-300 rounded-none px-4 py-3 text-black focus:border-black focus:ring-0 focus:outline-none transition-colors"},null,512),[[b,t.billingCity]])]),e("div",null,[e("label",Ae,o(l(r)("checkout.zip")),1),d(e("input",{"onUpdate:modelValue":s[14]||(s[14]=a=>t.billingZip=a),type:"text",class:"w-full bg-white border border-gray-300 rounded-none px-4 py-3 text-black focus:border-black focus:ring-0 focus:outline-none transition-colors"},null,512),[[b,t.billingZip]])])])]))]),e("section",null,[e("h2",ze,o(l(r)("checkout.payment")),1),e("p",je,o(l(r)("checkout.secure_transaction")),1),e("div",qe,[e("div",{class:m(["border border-gray-200 p-4 rounded-none cursor-pointer hover:border-black transition-colors",{"border-black bg-gray-50":t.paymentMethod==="card"}]),onClick:s[16]||(s[16]=a=>t.paymentMethod="card")},[e("div",$e,[e("div",Be,[d(e("input",{type:"radio","onUpdate:modelValue":s[15]||(s[15]=a=>t.paymentMethod=a),value:"card",class:"w-5 h-5 text-black focus:ring-black"},null,512),[[_,t.paymentMethod]]),e("span",Ie,o(l(r)("checkout.credit_card")),1)]),s[20]||(s[20]=e("div",{class:"flex gap-2"},[e("span",{class:"text-xs border px-1 border-gray-300 rounded-none"},"VISA"),e("span",{class:"text-xs border px-1 border-gray-300 rounded-none"},"MC"),e("span",{class:"text-xs border px-1 border-gray-300 rounded-none"},"AMEX")],-1))]),t.paymentMethod==="card"?(u(),c("div",Le,[...s[21]||(s[21]=[e("div",{class:"col-span-2"},[e("input",{type:"text",placeholder:"Card Number",class:"w-full bg-white border border-gray-300 rounded-none px-4 py-3 text-black focus:border-black focus:ring-0 focus:outline-none"})],-1),e("div",null,[e("input",{type:"text",placeholder:"MM / YY",class:"w-full bg-white border border-gray-300 rounded-none px-4 py-3 text-black focus:border-black focus:ring-0 focus:outline-none"})],-1),e("div",null,[e("input",{type:"text",placeholder:"CVC",class:"w-full bg-white border border-gray-300 rounded-none px-4 py-3 text-black focus:border-black focus:ring-0 focus:outline-none"})],-1)])])):p("",!0)],2),e("div",{class:m(["border border-gray-200 p-4 rounded-none cursor-pointer hover:border-black transition-colors",{"border-black bg-gray-50":t.paymentMethod==="bnpl","opacity-60 pointer-events-none":!f.value}]),onClick:s[18]||(s[18]=a=>f.value&&(t.paymentMethod="bnpl"))},[e("div",Fe,[e("div",Ee,[d(e("input",{type:"radio","onUpdate:modelValue":s[17]||(s[17]=a=>t.paymentMethod=a),value:"bnpl",disabled:!f.value,class:"w-5 h-5 text-black focus:ring-black"},null,8,De),[[_,t.paymentMethod]]),e("div",null,[e("span",Re,o(l(r)("checkout.bnpl")),1),e("span",Ze,o(l(r)("checkout.bnpl_desc")),1)])]),e("span",{class:m(["text-sm font-bold",f.value?"text-green-600":"text-red-500"])},o(l(r)("checkout.credit_available"))+": "+o(l(y)(v.value)),3)]),f.value?p("",!0):(u(),c("div",Ke,o(l(r)("checkout.insufficient_credit")),1))],2)]),n.paymentMethod?(u(),c("p",Oe,o(n.paymentMethod),1)):p("",!0)])]),e("div",Te,[e("div",Ye,[e("h3",Ge,o(l(r)("checkout.order_summary")),1),e("div",He,[(u(!0),c(j,null,q(l(x).items,a=>(u(),c("div",{key:a.productId,class:"flex gap-4 items-start border-b border-gray-200 pb-4 last:border-0"},[e("div",Je,[e("img",{src:l(E)(a.product.images[0]),class:"w-full h-full object-cover"},null,8,Pe)]),e("div",We,[e("h4",Xe,o(a.product.name),1),e("p",Qe,o(a.selectedVariant),1),e("p",et,"x "+o(a.quantity),1)]),e("div",tt,o(l(y)((l(g).isB2B?a.product.priceWholesale:a.product.priceRetail)*a.quantity)),1)]))),128))]),e("div",st,[e("div",ot,[e("span",null,o(l(r)("cart.subtotal")),1),e("span",null,o(l(y)(l(x).total)),1)]),e("div",lt,[e("span",null,o(l(r)("cart.shipping_cost")),1),e("span",at,o(l(r)("cart.free")),1)]),e("div",rt,[e("span",null,o(l(r)("order.tax")),1),e("span",null,o(l(y)(0)),1)])]),e("div",nt,[e("span",it,o(l(r)("cart.total")),1),e("div",dt,[s[22]||(s[22]=e("span",{class:"text-xs text-gray-500 block"},"USD",-1)),e("span",ct,o(l(y)(l(x).total)),1)])]),e("button",{onClick:V,disabled:l(h).isLoading,class:"w-full mt-8 bg-black hover:bg-gray-800 text-white font-bold py-4 rounded-none transition-all disabled:opacity-50 flex justify-center items-center"},[l(h).isLoading?(u(),c("span",pt,"âšª")):p("",!0),$(" "+o(l(h).isLoading?l(r)("checkout.processing"):l(r)("checkout.place_order")),1)],8,ut)])])])])]))}}),kt=D(bt,[["__scopeId","data-v-2420a1a9"]]);export{kt as default};
