import{d as O,u as L,D as M,m as H,g as m,i as e,t as a,f as r,A as J,F as K,r as Y,q as G,j as c,B as d,C as u,h as b,H as I,b as Q,w as W,x as h,K as X,k as Z,o as x,n as N,l as ee}from"./index-Cf3Z8cN2.js";import{u as te}from"./useTheme-BkzmY_NB.js";import{_ as se}from"./_plugin-vue_export-helper-DlAUqK2U.js";const re={class:"fixed inset-0 flex items-center justify-center bg-page px-4 overflow-y-auto"},oe={class:"max-w-4xl w-full"},ne={class:"bg-surface dark:bg-surface-secondary/50 rounded-none shadow-xl border border-transparent dark:border-white/10 transition-all duration-300 my-8 p-8"},ae={class:"text-center mb-8"},le={class:"text-3xl font-bold text-text-primary mb-2"},ie={class:"text-text-secondary"},de={class:"mb-8"},ce={class:"flex items-center justify-between relative"},ue={key:0,class:"space-y-4 animate-fade-in"},pe={class:"text-xl font-bold mb-4"},me={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},xe={class:"col-span-2"},_e={class:"block text-sm font-medium text-text-secondary mb-2"},be=["placeholder"],fe={class:"col-span-2"},he={class:"block text-sm font-medium text-text-secondary mb-2"},ve=["placeholder"],ye={class:"block text-sm font-medium text-text-secondary mb-2"},ge=["placeholder"],ke={class:"block text-sm font-medium text-text-secondary mb-2"},we=["placeholder"],Ve={key:1,class:"space-y-4 animate-fade-in"},Ce={class:"text-xl font-bold mb-4"},Me={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Se={class:"block text-sm font-medium text-text-secondary mb-2"},Ue=["placeholder"],Ie={class:"block text-sm font-medium text-text-secondary mb-2"},Ne=["placeholder"],Te={class:"col-span-2"},Ae={class:"block text-sm font-medium text-text-secondary mb-2"},Ee=["placeholder"],$e={key:2,class:"space-y-4 animate-fade-in"},Pe={class:"text-xl font-bold mb-4"},Re={class:"space-y-4"},je={class:"block text-sm font-medium text-text-secondary mb-2"},qe=["placeholder"],ze={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Be={class:"block text-sm font-medium text-text-secondary mb-2"},De={class:"border-2 border-dashed border-border rounded-none p-4 text-center cursor-pointer hover:border-text-primary transition-colors"},Fe={class:"text-sm text-text-secondary"},Oe={class:"block text-sm font-medium text-text-secondary mb-2"},Le={class:"border-2 border-dashed border-border rounded-none p-4 text-center cursor-pointer hover:border-text-primary transition-colors"},He={class:"text-sm text-text-secondary"},Je={class:"block text-sm font-medium text-text-secondary mb-2"},Ke=["placeholder"],Ye={key:3,class:"space-y-4 animate-fade-in"},Ge={class:"text-xl font-bold mb-4"},Qe={class:"space-y-4"},We={class:"block text-sm font-medium text-text-secondary mb-2"},Xe=["placeholder"],Ze={class:"block text-sm font-medium text-text-secondary mb-2"},et={class:"flex items-start space-x-2 cursor-pointer group"},tt={class:"text-sm text-text-secondary group-hover:text-text-primary transition-colors"},st={class:"block text-sm font-medium text-text-secondary mb-2"},rt={class:"flex items-start space-x-2 cursor-pointer group"},ot={class:"text-sm text-text-secondary group-hover:text-text-primary transition-colors"},nt={key:4,class:"space-y-4 animate-fade-in"},at={class:"text-xl font-bold mb-4 text-text-primary"},lt={class:"space-y-4"},it={class:"p-4 bg-surface-secondary rounded-none space-y-4 border border-border"},dt={class:"font-medium text-text-primary"},ct={class:"block text-sm font-medium text-text-secondary mb-2"},ut=["placeholder"],pt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},mt={class:"block text-sm font-medium text-text-secondary mb-2"},xt={class:"block text-sm font-medium text-text-secondary mb-2"},_t={class:"block text-sm font-medium text-text-secondary mb-2"},bt={class:"border-2 border-dashed border-border rounded-none p-4 text-center cursor-pointer hover:border-text-primary transition-colors"},ft={class:"text-sm text-text-secondary"},ht={class:"block text-sm font-medium text-text-secondary mb-2"},vt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},yt={class:"block text-sm font-medium text-text-secondary mb-2"},gt={class:"flex gap-4"},kt=["placeholder"],wt={key:5,class:"bg-error/10 border border-error/20 text-error text-sm text-center font-bold p-3 rounded-none animate-pulse"},Vt={class:"flex justify-between pt-6 border-t border-border"},Ct={class:"flex gap-3"},Mt=["disabled"],St={key:0,class:"animate-spin mr-2"},Ut={class:"mt-6 text-sm text-text-secondary"},It={class:"mr-1"},Nt={key:0,class:"fixed inset-0 z-[100] flex items-center justify-center p-4"},Tt={class:"bg-surface rounded-none shadow-xl w-full max-w-sm p-6 relative z-10 animate-fade-in border border-border"},At={class:"text-xl font-bold text-text-primary mb-2"},Et={class:"text-text-secondary mb-6"},$t={class:"flex gap-3"},V=5,C="enterprise_register_form",Pt=O({__name:"EnterpriseRegisterView",setup(Rt){const{t:s}=L(),{theme:T}=te(),A=ee(),y=h(!1),g=h(!1),p=h(""),i=h(1),o=X({companyName:"",address:"",crn:"",sic:"",vat:"",utr:"",bankAccount:"",directorInfo:"",psc:"",eoId:"",compliance:!1,ageVerify:!1,email:"",phone:"",username:"",password:"",confirmPassword:""}),k=h(""),_=h(null),S=h(""),E=l=>s(`enterprise_register.steps.${["basic","financial","kyc","industry","documents"][l-1]}`),$=()=>{const l=localStorage.getItem(C);if(l)try{const t=JSON.parse(l);Object.assign(o,t)}catch(t){console.error("Failed to load cache",t)}};M(o,l=>{localStorage.setItem(C,JSON.stringify(l))},{deep:!0});const P=()=>{y.value=!0},R=()=>{Object.keys(o).forEach(l=>{typeof o[l]=="boolean"?o[l]=!1:o[l]=""}),localStorage.removeItem(C),i.value=1,p.value="",k.value="",y.value=!1},U=l=>{switch(p.value="",l){case 1:if(!o.companyName||!o.address||!o.crn||!o.sic)return p.value=s("enterprise_register.required_error"),!1;break;case 2:if(!o.bankAccount)return p.value=s("enterprise_register.required_error"),!1;break;case 3:if(!o.directorInfo)return p.value=s("enterprise_register.required_error"),!1;break;case 4:if(!o.compliance||!o.ageVerify)return p.value=s("enterprise_register.required_error"),!1;break;case 5:if(!o.email||!o.phone||!o.username||!o.password||!o.confirmPassword)return p.value=s("enterprise_register.required_error"),!1;if(o.password!==o.confirmPassword)return p.value=s("enterprise_register.documents.password_mismatch"),!1;break}return!0},j=()=>{U(i.value)&&i.value++},q=()=>{i.value>1&&(i.value--,p.value="")},w=()=>{if(!_.value)return;const l=_.value.getContext("2d");if(!l)return;l.clearRect(0,0,_.value.width,_.value.height);const t="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let v="";for(let f=0;f<4;f++)v+=t.charAt(Math.floor(Math.random()*t.length));S.value=v;const n=document.documentElement.classList.contains("dark");l.fillStyle=n?"#2c2c2e":"#f5f5f5",l.fillRect(0,0,_.value.width,_.value.height),l.font="bold 24px Arial",l.textAlign="center",l.textBaseline="middle";for(let f=0;f<v.length;f++){const B=20+f*25,D=25,F=(Math.random()-.5)*.4;l.save(),l.translate(B,D),l.rotate(F),n?l.fillStyle=`rgb(${155+Math.floor(Math.random()*100)}, ${155+Math.floor(Math.random()*100)}, ${155+Math.floor(Math.random()*100)})`:l.fillStyle=`rgb(${Math.floor(Math.random()*100)}, ${Math.floor(Math.random()*100)}, ${Math.floor(Math.random()*100)})`,l.fillText(v[f],0,0),l.restore()}l.strokeStyle=n?"#444":"#e5e7eb";for(let f=0;f<5;f++)l.beginPath(),l.moveTo(Math.random()*_.value.width,Math.random()*_.value.height),l.lineTo(Math.random()*_.value.width,Math.random()*_.value.height),l.stroke()};M(T,()=>{i.value===5&&setTimeout(w,50)});const z=async()=>{if(U(5)){if(!k.value||k.value.toUpperCase()!==S.value){p.value=s("login.captcha_error"),w();return}g.value=!0;try{await new Promise(l=>setTimeout(l,1500)),localStorage.removeItem(C),A.push({name:"login",query:{registered:"true",type:"enterprise"}})}catch{p.value=s("common.error")}finally{g.value=!1}}};return H(()=>{$()}),M(i,l=>{l===5&&setTimeout(w,100)}),(l,t)=>{const v=Z("router-link");return x(),m("div",re,[e("div",oe,[e("div",ne,[e("div",ae,[e("h1",le,a(r(s)("enterprise_register.title")),1),e("p",ie,a(r(s)("enterprise_register.subtitle")),1)]),e("div",de,[e("div",ce,[t[20]||(t[20]=e("div",{class:"absolute left-0 top-1/2 transform -translate-y-1/2 w-full h-1 bg-surface-secondary -z-10"},null,-1)),e("div",{class:"absolute left-0 top-1/2 transform -translate-y-1/2 h-1 bg-text-primary transition-all duration-300 -z-10",style:J({width:`${(i.value-1)/(V-1)*100}%`})},null,4),(x(),m(K,null,Y(V,n=>e("div",{key:n,class:"flex flex-col items-center gap-2"},[e("div",{class:N(["w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold transition-colors duration-300",i.value>=n?"bg-text-primary text-surface":"bg-surface-secondary text-text-tertiary"])},a(n),3),e("span",{class:N(["text-xs font-medium hidden sm:block",i.value>=n?"text-text-primary":"text-text-tertiary"])},a(E(n)),3)])),64))])]),e("form",{onSubmit:G(z,["prevent"]),class:"space-y-6"},[i.value===1?(x(),m("div",ue,[e("h2",pe,a(r(s)("enterprise_register.basic.title")),1),e("div",me,[e("div",xe,[e("label",_e,[c(a(r(s)("enterprise_register.basic.company_name"))+" ",1),t[21]||(t[21]=e("span",{class:"text-error"},"*",-1))]),d(e("input",{"onUpdate:modelValue":t[0]||(t[0]=n=>o.companyName=n),type:"text",class:"input-field",placeholder:r(s)("enterprise_register.basic.company_name_hint")},null,8,be),[[u,o.companyName]])]),e("div",fe,[e("label",he,[c(a(r(s)("enterprise_register.basic.address"))+" ",1),t[22]||(t[22]=e("span",{class:"text-error"},"*",-1))]),d(e("input",{"onUpdate:modelValue":t[1]||(t[1]=n=>o.address=n),type:"text",class:"input-field",placeholder:r(s)("enterprise_register.basic.address_hint")},null,8,ve),[[u,o.address]])]),e("div",null,[e("label",ye,[c(a(r(s)("enterprise_register.basic.crn"))+" ",1),t[23]||(t[23]=e("span",{class:"text-error"},"*",-1))]),d(e("input",{"onUpdate:modelValue":t[2]||(t[2]=n=>o.crn=n),type:"text",class:"input-field",placeholder:r(s)("enterprise_register.basic.crn_hint")},null,8,ge),[[u,o.crn]])]),e("div",null,[e("label",ke,[c(a(r(s)("enterprise_register.basic.sic"))+" ",1),t[24]||(t[24]=e("span",{class:"text-error"},"*",-1))]),d(e("input",{"onUpdate:modelValue":t[3]||(t[3]=n=>o.sic=n),type:"text",class:"input-field",placeholder:r(s)("enterprise_register.basic.sic_hint")},null,8,we),[[u,o.sic]])])])])):b("",!0),i.value===2?(x(),m("div",Ve,[e("h2",Ce,a(r(s)("enterprise_register.financial.title")),1),e("div",Me,[e("div",null,[e("label",Se,a(r(s)("enterprise_register.financial.vat")),1),d(e("input",{"onUpdate:modelValue":t[4]||(t[4]=n=>o.vat=n),type:"text",class:"input-field",placeholder:r(s)("enterprise_register.financial.vat_hint")},null,8,Ue),[[u,o.vat]])]),e("div",null,[e("label",Ie,a(r(s)("enterprise_register.financial.utr")),1),d(e("input",{"onUpdate:modelValue":t[5]||(t[5]=n=>o.utr=n),type:"text",class:"input-field",placeholder:r(s)("enterprise_register.financial.utr_hint")},null,8,Ne),[[u,o.utr]])]),e("div",Te,[e("label",Ae,[c(a(r(s)("enterprise_register.financial.bank_account"))+" ",1),t[25]||(t[25]=e("span",{class:"text-error"},"*",-1))]),d(e("textarea",{"onUpdate:modelValue":t[6]||(t[6]=n=>o.bankAccount=n),rows:"3",class:"input-field",placeholder:r(s)("enterprise_register.financial.bank_account_hint")},null,8,Ee),[[u,o.bankAccount]])])])])):b("",!0),i.value===3?(x(),m("div",$e,[e("h2",Pe,a(r(s)("enterprise_register.kyc.title")),1),e("div",Re,[e("div",null,[e("label",je,[c(a(r(s)("enterprise_register.kyc.director_info"))+" ",1),t[26]||(t[26]=e("span",{class:"text-error"},"*",-1))]),d(e("textarea",{"onUpdate:modelValue":t[7]||(t[7]=n=>o.directorInfo=n),rows:"3",class:"input-field",placeholder:r(s)("enterprise_register.kyc.director_hint")},null,8,qe),[[u,o.directorInfo]])]),e("div",ze,[e("div",null,[e("label",Be,[c(a(r(s)("enterprise_register.kyc.proof_id"))+" ",1),t[27]||(t[27]=e("span",{class:"text-error"},"*",-1))]),e("div",De,[e("span",Fe,a(r(s)("enterprise_register.kyc.proof_id_hint")),1)])]),e("div",null,[e("label",Oe,[c(a(r(s)("enterprise_register.kyc.proof_address"))+" ",1),t[28]||(t[28]=e("span",{class:"text-error"},"*",-1))]),e("div",Le,[e("span",He,a(r(s)("enterprise_register.kyc.proof_address_hint")),1)])])]),e("div",null,[e("label",Je,a(r(s)("enterprise_register.kyc.psc")),1),d(e("textarea",{"onUpdate:modelValue":t[8]||(t[8]=n=>o.psc=n),rows:"2",class:"input-field",placeholder:r(s)("enterprise_register.kyc.psc_hint")},null,8,Ke),[[u,o.psc]])])])])):b("",!0),i.value===4?(x(),m("div",Ye,[e("h2",Ge,a(r(s)("enterprise_register.industry.title")),1),e("div",Qe,[e("div",null,[e("label",We,a(r(s)("enterprise_register.industry.eo_id")),1),d(e("input",{"onUpdate:modelValue":t[9]||(t[9]=n=>o.eoId=n),type:"text",class:"input-field",placeholder:r(s)("enterprise_register.industry.eo_id_hint")},null,8,Xe),[[u,o.eoId]])]),e("div",null,[e("label",Ze,[c(a(r(s)("enterprise_register.industry.compliance"))+" ",1),t[29]||(t[29]=e("span",{class:"text-error"},"*",-1))]),e("label",et,[d(e("input",{"onUpdate:modelValue":t[10]||(t[10]=n=>o.compliance=n),type:"checkbox",class:"checkbox-field"},null,512),[[I,o.compliance]]),e("span",tt,a(r(s)("enterprise_register.industry.compliance_hint")),1)])]),e("div",null,[e("label",st,[c(a(r(s)("enterprise_register.industry.age_verify"))+" ",1),t[30]||(t[30]=e("span",{class:"text-error"},"*",-1))]),e("label",rt,[d(e("input",{"onUpdate:modelValue":t[11]||(t[11]=n=>o.ageVerify=n),type:"checkbox",class:"checkbox-field"},null,512),[[I,o.ageVerify]]),e("span",ot,a(r(s)("enterprise_register.industry.age_verify_hint")),1)])])])])):b("",!0),i.value===5?(x(),m("div",nt,[e("h2",at,a(r(s)("enterprise_register.documents.title")),1),e("div",lt,[e("div",it,[e("h3",dt,a(r(s)("enterprise_register.documents.account_info")),1),e("div",null,[e("label",ct,[c(a(r(s)("enterprise_register.documents.username"))+" ",1),t[31]||(t[31]=e("span",{class:"text-error"},"*",-1))]),d(e("input",{"onUpdate:modelValue":t[12]||(t[12]=n=>o.username=n),type:"text",class:"input-field",placeholder:r(s)("enterprise_register.documents.username_hint")},null,8,ut),[[u,o.username]])]),e("div",pt,[e("div",null,[e("label",mt,[c(a(r(s)("enterprise_register.documents.password"))+" ",1),t[32]||(t[32]=e("span",{class:"text-error"},"*",-1))]),d(e("input",{"onUpdate:modelValue":t[13]||(t[13]=n=>o.password=n),type:"password",class:"input-field",placeholder:"••••••••"},null,512),[[u,o.password]])]),e("div",null,[e("label",xt,[c(a(r(s)("enterprise_register.documents.confirm_password"))+" ",1),t[33]||(t[33]=e("span",{class:"text-error"},"*",-1))]),d(e("input",{"onUpdate:modelValue":t[14]||(t[14]=n=>o.confirmPassword=n),type:"password",class:"input-field",placeholder:"••••••••"},null,512),[[u,o.confirmPassword]])])])]),e("div",null,[e("label",_t,[c(a(r(s)("enterprise_register.documents.articles"))+" ",1),t[34]||(t[34]=e("span",{class:"text-error"},"*",-1))]),e("div",bt,[e("span",ft,a(r(s)("enterprise_register.documents.articles_hint")),1)])]),e("div",null,[e("label",ht,[c(a(r(s)("enterprise_register.documents.contact"))+" ",1),t[35]||(t[35]=e("span",{class:"text-error"},"*",-1))]),e("div",vt,[d(e("input",{"onUpdate:modelValue":t[15]||(t[15]=n=>o.email=n),type:"email",class:"input-field",placeholder:"Email"},null,512),[[u,o.email]]),d(e("input",{"onUpdate:modelValue":t[16]||(t[16]=n=>o.phone=n),type:"tel",class:"input-field",placeholder:"Phone"},null,512),[[u,o.phone]])])]),e("div",null,[e("label",yt,a(r(s)("login.captcha")),1),e("div",gt,[d(e("input",{"onUpdate:modelValue":t[17]||(t[17]=n=>k.value=n),type:"text",class:"flex-1 input-field",placeholder:r(s)("login.captcha")},null,8,kt),[[u,k.value]]),e("canvas",{ref_key:"captchaCanvas",ref:_,width:"120",height:"50",class:"cursor-pointer rounded-none border border-border bg-surface-secondary",onClick:w,title:"Click to refresh"},null,512)])])])])):b("",!0),p.value?(x(),m("div",wt,a(p.value),1)):b("",!0),e("div",Vt,[e("button",{type:"button",onClick:P,class:"px-6 py-2 text-sm font-medium text-text-secondary hover:text-error transition-colors"},a(r(s)("enterprise_register.reset")),1),e("div",Ct,[i.value>1?(x(),m("button",{key:0,type:"button",onClick:q,class:"px-6 py-2 rounded-none border border-border text-text-primary hover:bg-surface-secondary transition-colors"},a(r(s)("enterprise_register.prev")),1)):b("",!0),i.value<V?(x(),m("button",{key:1,type:"button",onClick:j,class:"px-6 py-2 rounded-none bg-gray-900 dark:bg-[#2c2c2e] text-white dark:text-white hover:bg-black dark:hover:bg-[#3e3e41] transition-all shadow-lg hover:shadow-xl hover:-translate-y-0.5"},a(r(s)("enterprise_register.next")),1)):b("",!0),i.value===V?(x(),m("button",{key:2,type:"submit",disabled:g.value,class:"px-6 py-2 rounded-none bg-gray-900 dark:bg-[#2c2c2e] text-white dark:text-white hover:bg-black dark:hover:bg-[#3e3e41] transition-all shadow-lg hover:shadow-xl hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed flex items-center disabled:hover:translate-y-0 disabled:shadow-none"},[g.value?(x(),m("span",St,"⚪")):b("",!0),c(" "+a(g.value?r(s)("login.submitting"):r(s)("enterprise_register.submit")),1)],8,Mt)):b("",!0)])])],32)]),e("div",Ut,[e("span",It,a(r(s)("register.has_account")),1),Q(v,{to:"/login",class:"text-accent hover:text-accent-hover font-medium"},{default:W(()=>[c(a(r(s)("register.login_now")),1)]),_:1})])]),y.value?(x(),m("div",Nt,[e("div",{class:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t[18]||(t[18]=n=>y.value=!1)}),e("div",Tt,[e("h3",At,a(r(s)("enterprise_register.reset_title")),1),e("p",Et,a(r(s)("enterprise_register.reset_confirm")),1),e("div",$t,[e("button",{onClick:t[19]||(t[19]=n=>y.value=!1),class:"flex-1 px-4 py-2 rounded-none border border-border text-text-primary hover:bg-surface-secondary transition-colors font-medium"},a(r(s)("common.cancel")),1),e("button",{onClick:R,class:"flex-1 px-4 py-2 rounded-none bg-error text-white hover:bg-error-hover transition-colors font-medium"},a(r(s)("common.confirm")),1)])])])):b("",!0)])}}}),Bt=se(Pt,[["__scopeId","data-v-06e71111"]]);export{Bt as default};
